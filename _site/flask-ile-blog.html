<!DOCTYPE html>
<html>
<head>

    <!-- Document Settings -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Base Meta -->
    <!-- dynamically fixing the title for tag/author pages -->



    <title>Flask ile Blog YapalÄ±m</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Styles'n'Scripts -->
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.edited.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/syntax.css" />
    <!-- highlight.js -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
    <style>
    .highlighter-rouge{
        width: 100%;
    }
    .hljs{ 
        background: none; 
    }
</style>

    <!-- This tag outputs SEO meta+structured data and other important settings -->
    <meta name="description" content="" />
    <link rel="shortcut icon" href="http://localhost:4000/assets/images/favicon.png" type="image/png" />
    <link rel="canonical" href="http://localhost:4000/flask-ile-blog" />
    <meta name="referrer" content="no-referrer-when-downgrade" />

     <!--title below is coming from _includes/dynamic_title-->
    <meta property="og:site_name" content="Bisguzar - Hobisel Pythoncu" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Flask ile Blog YapalÄ±m" />
    <meta property="og:description" content="Ä°Ã§erik Listesi GiriÅŸ Ä°nternet Siteleri NasÄ±l Ã‡alÄ±ÅŸÄ±r Pipenv Kurulumu ve KullanÄ±mÄ± Flask Kullanmaya BaÅŸlayalÄ±m Site Ä°skeletini OluÅŸturalÄ±m ÅablonlarÄ±mÄ±zÄ± GÃ¼zelleÅŸtirelim VeritabanÄ± Modelleri Back-endâ€™i HazÄ±rlayalÄ±m FonksiyonlarÄ±mÄ±zÄ± OluÅŸturalÄ±m GiriÅŸ/Ã‡Ä±kÄ±ÅŸ YapÄ±sÄ±nÄ± HazÄ±rlayalÄ±m YazÄ± Ekleme SayfasÄ±nÄ± AyarlayalÄ±m Ana SayfayÄ± DÃ¼zenleyelim Devam Etmek Ä°steyenler Ä°Ã§in GiriÅŸ Bu yazÄ±da web temelli uygulamalar geliÅŸtirmek iÃ§in hazÄ±rlanmÄ±ÅŸ olan python" />
    <meta property="og:url" content="http://localhost:4000/flask-ile-blog" />
    <meta property="og:image" content="http://localhost:4000/assets/images/flask_python.jpg" />
    <meta property="article:publisher" content="https://www.facebook.com/bisguzar" />
    <meta property="article:author" content="https://www.facebook.com/bisguzar" />
    <meta property="article:published_time" content="2018-08-02T17:09:00+03:00" />
    <meta property="article:modified_time" content="2018-08-02T17:09:00+03:00" />
    <meta property="article:tag" content="Flask" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Flask ile Blog YapalÄ±m" />
    <meta name="twitter:description" content="Ä°Ã§erik Listesi GiriÅŸ Ä°nternet Siteleri NasÄ±l Ã‡alÄ±ÅŸÄ±r Pipenv Kurulumu ve KullanÄ±mÄ± Flask Kullanmaya BaÅŸlayalÄ±m Site Ä°skeletini OluÅŸturalÄ±m ÅablonlarÄ±mÄ±zÄ± GÃ¼zelleÅŸtirelim VeritabanÄ± Modelleri Back-endâ€™i HazÄ±rlayalÄ±m FonksiyonlarÄ±mÄ±zÄ± OluÅŸturalÄ±m GiriÅŸ/Ã‡Ä±kÄ±ÅŸ YapÄ±sÄ±nÄ± HazÄ±rlayalÄ±m YazÄ± Ekleme SayfasÄ±nÄ± AyarlayalÄ±m Ana SayfayÄ± DÃ¼zenleyelim Devam Etmek Ä°steyenler Ä°Ã§in GiriÅŸ Bu yazÄ±da web temelli uygulamalar geliÅŸtirmek iÃ§in hazÄ±rlanmÄ±ÅŸ olan python" />
    <meta name="twitter:url" content="http://localhost:4000/" />
    <meta name="twitter:image" content="http://localhost:4000/assets/images/flask_python.jpg" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="Bisguzar - Hobisel Pythoncu" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Flask" />
    <meta name="twitter:site" content="@bugraisguzar" />
    <meta name="twitter:creator" content="@bugraisguzar" />
    <meta property="og:image:width" content="1400" />
    <meta property="og:image:height" content="933" />

    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Website",
    "publisher": {
        "@type": "Organization",
        "name": "Bisguzar - Hobisel Pythoncu",
        "logo": "http://localhost:4000/assets/images/bisguzar_w.png"
    },
    "url": "http://localhost:4000/flask-ile-blog",
    "image": {
        "@type": "ImageObject",
        "url": "http://localhost:4000/assets/images/flask_python.jpg",
        "width": 2000,
        "height": 666
    },
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://localhost:4000/flask-ile-blog"
    },
    "description": "Ä°Ã§erik Listesi GiriÅŸ Ä°nternet Siteleri NasÄ±l Ã‡alÄ±ÅŸÄ±r Pipenv Kurulumu ve KullanÄ±mÄ± Flask Kullanmaya BaÅŸlayalÄ±m Site Ä°skeletini OluÅŸturalÄ±m ÅablonlarÄ±mÄ±zÄ± GÃ¼zelleÅŸtirelim VeritabanÄ± Modelleri Back-endâ€™i HazÄ±rlayalÄ±m FonksiyonlarÄ±mÄ±zÄ± OluÅŸturalÄ±m GiriÅŸ/Ã‡Ä±kÄ±ÅŸ YapÄ±sÄ±nÄ± HazÄ±rlayalÄ±m YazÄ± Ekleme SayfasÄ±nÄ± AyarlayalÄ±m Ana SayfayÄ± DÃ¼zenleyelim Devam Etmek Ä°steyenler Ä°Ã§in GiriÅŸ Bu yazÄ±da web temelli uygulamalar geliÅŸtirmek iÃ§in hazÄ±rlanmÄ±ÅŸ olan python"
}
    </script>

    <!-- <script type="text/javascript" src="https://demo.ghost.io/public/ghost-sdk.min.js?v=724281a32e"></script>
    <script type="text/javascript">
    ghost.init({
    	clientId: "ghost-frontend",
    	clientSecret: "f84a07a72b17"
    });
    </script> -->

    <meta name="generator" content="Jekyll 3.6.2" />
    <link rel="alternate" type="application/rss+xml" title="Flask ile Blog YapalÄ±m" href="/feed.xml" />


</head>
<body class="post-template">

    <div class="site-wrapper">
        <!-- All the main content gets inserted here, index.hbs, post.hbs, etc -->
        <!-- default -->

<!-- The tag above means: insert everything in this file
into the {body} of the default.hbs template -->

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
        
            
                <a class="site-nav-logo" href="http://localhost:4000/"><img src="/assets/images/bisguzar_w.png" alt="Bisguzar - Hobisel Pythoncu" /></a>
            
        
        
            <ul class="nav" role="menu">
    <li class="nav-home" role="menuitem"><a href="/">Ana Sayfa</a></li>
    <li class="nav-getting-started" role="menuitem"><a href="/tag/python/">Python</a></li>
    <li class="nav-getting-started" role="menuitem"><a href="/tag/micropython/">MicroPython</a></li>
    <li class="nav-getting-started" role="menuitem"><a href="/tag/flask/">Flask</a></li>
</ul>

        
    </div>
    <div class="site-nav-right">
        <div class="social-links">
            
                <a class="social-link social-link-fb" href="https://facebook.com/bisguzar" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>
</a>
            
            
                <a class="social-link social-link-tw" href="https://twitter.com/bugraisguzar" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>
</a>
            
            
                <a class="social-link social-link-gh" href="https://github.com/bisguzar" target="_blank" rel="noopener"><i class="fab fa-github" style="font-size: 18px"></i></a>
            
        </div>
        
    </div>
</nav>

<script defer src="https://use.fontawesome.com/releases/v5.2.0/js/all.js" integrity="sha384-4oV5EgaV02iISL2ban6c/RmotsABqE4yZxZLcYMAdG7FAPsyHYAPpywE9PJo+Khy" crossorigin="anonymous"></script>
    </div>
</header>

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<main id="site-main" class="site-main outer" role="main">
    <div class="inner">

        <article class="post-full post ">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime=" 2 August 2018"> 2 August 2018</time>
                    
                        <span class="date-divider">/</span>
                        
                            
                               <a href='/tag/flask/'>FLASK</a>
                            
                        
                    
                </section>
                <h1 class="post-full-title">Flask ile Blog YapalÄ±m</h1>
                <br>
                <span> okuma sÃ¼resi yaklaÅŸÄ±k
                
                    35 dakika
                
                </span>
            </header>

            
            <figure class="post-full-image" style="background-image: url(/assets/images/flask_python.jpg)">
            </figure>
            

            <section class="post-full-content">
                <div class="kg-card-markdown" style="text-align: justify;">
                    <p><strong>Ä°Ã§erik Listesi</strong></p>
<ol id="markdown-toc">
  <li><a href="#giriÅŸ" id="markdown-toc-giriÅŸ">GiriÅŸ</a></li>
  <li><a href="#iÌ‡nternet-siteleri-nasÄ±l-Ã§alÄ±ÅŸÄ±r" id="markdown-toc-iÌ‡nternet-siteleri-nasÄ±l-Ã§alÄ±ÅŸÄ±r">Ä°nternet Siteleri NasÄ±l Ã‡alÄ±ÅŸÄ±r</a></li>
  <li><a href="#pipenv-kurulumu-ve-kullanÄ±mÄ±" id="markdown-toc-pipenv-kurulumu-ve-kullanÄ±mÄ±">Pipenv Kurulumu ve KullanÄ±mÄ±</a></li>
  <li><a href="#flask-kullanmaya-baÅŸlayalÄ±m" id="markdown-toc-flask-kullanmaya-baÅŸlayalÄ±m">Flask Kullanmaya BaÅŸlayalÄ±m</a></li>
  <li><a href="#site-iÌ‡skeletini-oluÅŸturalÄ±m" id="markdown-toc-site-iÌ‡skeletini-oluÅŸturalÄ±m">Site Ä°skeletini OluÅŸturalÄ±m</a>    <ol>
      <li><a href="#ÅŸablonlarÄ±mÄ±zÄ±-gÃ¼zelleÅŸtirelim" id="markdown-toc-ÅŸablonlarÄ±mÄ±zÄ±-gÃ¼zelleÅŸtirelim">ÅablonlarÄ±mÄ±zÄ± GÃ¼zelleÅŸtirelim</a></li>
    </ol>
  </li>
  <li><a href="#veritabanÄ±-modelleri" id="markdown-toc-veritabanÄ±-modelleri">VeritabanÄ± Modelleri</a></li>
  <li><a href="#back-endi-hazÄ±rlayalÄ±m" id="markdown-toc-back-endi-hazÄ±rlayalÄ±m">Back-endâ€™i HazÄ±rlayalÄ±m</a>    <ol>
      <li><a href="#fonksiyonlarÄ±mÄ±zÄ±-oluÅŸturalÄ±m" id="markdown-toc-fonksiyonlarÄ±mÄ±zÄ±-oluÅŸturalÄ±m">FonksiyonlarÄ±mÄ±zÄ± OluÅŸturalÄ±m</a></li>
      <li><a href="#giriÅŸÃ§Ä±kÄ±ÅŸ-yapÄ±sÄ±nÄ±-hazÄ±rlayalÄ±m" id="markdown-toc-giriÅŸÃ§Ä±kÄ±ÅŸ-yapÄ±sÄ±nÄ±-hazÄ±rlayalÄ±m">GiriÅŸ/Ã‡Ä±kÄ±ÅŸ YapÄ±sÄ±nÄ± HazÄ±rlayalÄ±m</a></li>
      <li><a href="#yazÄ±-ekleme-sayfasÄ±nÄ±-ayarlayalÄ±m" id="markdown-toc-yazÄ±-ekleme-sayfasÄ±nÄ±-ayarlayalÄ±m">YazÄ± Ekleme SayfasÄ±nÄ± AyarlayalÄ±m</a></li>
      <li><a href="#ana-sayfayÄ±-dÃ¼zenleyelim" id="markdown-toc-ana-sayfayÄ±-dÃ¼zenleyelim">Ana SayfayÄ± DÃ¼zenleyelim</a></li>
    </ol>
  </li>
  <li><a href="#devam-etmek-iÌ‡steyenler-iÌ‡Ã§in" id="markdown-toc-devam-etmek-iÌ‡steyenler-iÌ‡Ã§in">Devam Etmek Ä°steyenler Ä°Ã§in</a></li>
</ol>

<hr style="margin: 10px !important;" />

<h1 id="giriÅŸ">GiriÅŸ</h1>

<p>Bu yazÄ±da web temelli uygulamalar geliÅŸtirmek iÃ§in hazÄ±rlanmÄ±ÅŸ olan python kÃ¼tÃ¼phanesi Flaskâ€™Ä± kullanarak kendi blogumuzu geliÅŸtireceÄŸiz. Bunu yaparken birkaÃ§ farklÄ± alanda temel seviyede bilgi edinmiÅŸ olacaÄŸÄ±z. Bu alanlarÄ± listelemek gerekirse;</p>

<ol>
  <li>Web temelleri hakkÄ±nda bilgi edineceÄŸiz, bir web sitesinin nasÄ±l Ã§alÄ±ÅŸtÄ±ÄŸÄ±nÄ± Ã¶ÄŸreneceÄŸiz</li>
  <li>PIPENVâ€™i kullanmayÄ± Ã¶ÄŸreneceÄŸiz</li>
  <li>Flaskâ€™Ä± tanÄ±yacaÄŸÄ±z</li>
  <li>HTML ve CSS kullanarak kendi temalarÄ±mÄ±zÄ± tasarlayacaÄŸÄ±z, Jinja2 tema motorunu kullanmayÄ± Ã¶ÄŸreneceÄŸiz</li>
  <li>VeritabanÄ± modellerimizi hazÄ±rlarken ORM yapÄ±sÄ±nÄ± gÃ¶receÄŸiz, peewee ORM kÃ¼tÃ¼phanesini kullanacaÄŸÄ±z</li>
  <li>Blogumuzun istekleri karÅŸÄ±layan ve yanÄ±t Ã¼reten (terimsel olarak back-end) kÄ±sÄ±mÄ±nÄ± hazÄ±rlayacaÄŸÄ±z, tarayÄ±cÄ± oturumlarÄ±na deÄŸineceÄŸiz</li>
  <li>HazÄ±rladÄ±ÄŸÄ±mÄ±z blogu yayÄ±na alacaÄŸÄ±z, pythonanywhere kullanmayÄ± Ã¶ÄŸreneceÄŸiz</li>
</ol>

<p>Yine web temelli uygulamalar geliÅŸtirmek iÃ§in hazÄ±rlanmÄ±ÅŸ olan bir baÅŸka Python kÃ¼tÃ¼phanesi <em>Django</em> ile blog geliÅŸtirmek iÃ§in benzer bir dokÃ¼man mevcut. Hem o dokÃ¼man, hem bu dokÃ¼man sizlere temel seviyede bilgi verip bu konularÄ± araÅŸtÄ±rma heyecanÄ± oluÅŸturmak iÃ§in hazÄ±rlandÄ±. <a href="https://tutorial.djangogirls.org/tr/" target="_blank">djangogirls.org Ã¼zerindeki o TÃ¼rkÃ§e dokÃ¼mana gitmek iÃ§in tÄ±klayÄ±n</a>. FÄ±rsat bulursanÄ±z DjangoGirls Ã§alÄ±ÅŸmalarÄ±ndan birine katÄ±lmanÄ±zÄ± da Ã¶neririm.</p>

<p>Ancak biz Flaskâ€™Ä± kullanarak bu dokÃ¼manda ilerleyeceÄŸiz. BirÃ§ok ÅŸeyi kendimiz yapmak durumunda kalacaÄŸÄ±z. Djangoda birÃ§ok kullanÄ±ma hazÄ±r yapÄ± bulunurken Flask iÃ§in ek kÃ¼tÃ¼phaneler kullanarak ilerleyeceÄŸiz. AyrÄ±ca iÃ§erik listesinde de gÃ¶rdÃ¼ÄŸÃ¼nÃ¼z (ya da gÃ¶remediÄŸiniz) bu dokÃ¼manda Python Ã¶ÄŸrenmeyeceÄŸiz. Hali hazÄ±rda iyi kÃ¶tÃ¼ bir Python bilginizin olmasÄ± gerekiyor. Djangogirlsâ€™Ã¼n hÄ±zlandÄ±rÄ±lmÄ±ÅŸ Python dokÃ¼manÄ±na <a href="https://tutorial.djangogirls.org/tr/python_introduction/">ulaÅŸmak iÃ§in tÄ±klayÄ±n</a>.</p>

<p>AyrÄ±ca bu yazÄ± boyunca oluÅŸturacaÄŸÄ±mÄ±z tÃ¼m dosyalar Githubâ€™daki <strong><a href="https://github.com/bisguzar/flask-blog" target="_blank">bisguzar/flask-blog</a></strong> deposunda bulunuyor. Oradan da takip edebilirsiniz.</p>

<h1 id="iÌ‡nternet-siteleri-nasÄ±l-Ã§alÄ±ÅŸÄ±r">Ä°nternet Siteleri NasÄ±l Ã‡alÄ±ÅŸÄ±r</h1>

<p><img src="https://img.labnol.org/di/how-internet-works1.jpg" alt="" /></p>

<p>Ä°nternet sitelerinin Ã§alÄ±ÅŸmasÄ±nÄ± anlamak iÃ§in bu senaryoyu hikayeleÅŸtirelim. Ã–ncelikle Ahmet isminde bir karakterimiz olsun ve bakkala girip bir kase yoÄŸurt istediÄŸini varsayalÄ±m. BÃ¶yle bir durumda gerÃ§ekleÅŸecek bir sonraki olay bakkalÄ±n Ahmetâ€™e istediÄŸi yoÄŸurtu dolaptan Ã§Ä±karÄ±p vermesi olacak. Olay Ã§ok basitti. Ahmet bir yoÄŸurt istedi ve istediÄŸini aldÄ±.</p>

<p>Web siteleri de aynen bÃ¶yle Ã§alÄ±ÅŸÄ±yor. Ancak web siteleri yoÄŸurttan oluÅŸmuyor tabikide, kaynak dosyalarÄ±nÄ± -yani html,css,js gibi dosyalarÄ±- da buzdolabÄ±nda tutamÄ±yoruz. Bu dosyalarÄ±n saklanmasÄ± gerekiyor, Ã§Ã¼nkÃ¼ istek geldiÄŸi zaman isteÄŸi yapan kiÅŸiye gÃ¶nderilmesi gerekiyor ki senaryomuz tamamlansÄ±n. Bu saklama iÅŸlemini ise sunucu dediÄŸimiz (genelde) gÃ¼Ã§lÃ¼ bilgisayarlar Ã¼zerinde yapÄ±yoruz. Bu bilgisayarlara biz web sitemizi oluÅŸturan dosyalarÄ± yÃ¼klÃ¼yoruz ve sitemize bir ziyaretÃ§i girdiÄŸi zaman -ziyaretÃ§i sitemize girdiÄŸi zaman aslÄ±nda sunucumuza <em>â€˜ben bu web sitesini gÃ¶rmek istiyorumâ€™</em> ÅŸeklinde bir istek gÃ¶nderiyor- kaynak dosyalarÄ± kendisine gÃ¶nderip sitemizi gÃ¶rÃ¼ntÃ¼lemesini saÄŸlÄ±yoruz.</p>

<p>Yani siz github.com adresini tarayÄ±cÄ±nÄ±zÄ±n baÄŸlantÄ± Ã§ubuÄŸuna girdiÄŸiniz zaman tarayÄ±cÄ±nÄ±z github.com adresine bir istek gÃ¶nderiyor. Ozaman github.com bir sunucu mu? AslÄ±nda hem evet hem hayÄ±r. Github.com bir temsili isim. Github.com aslÄ±nda bir sunucunun IP adresini belirtiyor, ancak tarayÄ±cÄ±ya <em>192.30.253.112</em> yazmayÄ± mÄ± yoksa <em>github.com</em> yazmayÄ± mÄ± tercih edersiniz? Daha okunaklÄ± olabilmesi iÃ§in domain ismi verilen bu yÃ¶nlendirici yapÄ±lar kullanÄ±lÄ±yor.</p>

<p>Bu oluÅŸturduÄŸumuz senaryoyu unutmayÄ±n, ilerleyen konularÄ± iÅŸlerken de bu senaryo Ã¼zerinden Ã¶rneklendirmeler yapacaÄŸÄ±z.</p>

<h1 id="pipenv-kurulumu-ve-kullanÄ±mÄ±">Pipenv Kurulumu ve KullanÄ±mÄ±</h1>

<p>EÄŸer iÅŸletim sisteminiz Linux ise Pythonâ€™un kurulu geldiÄŸini farketmiÅŸsinizdir. Ã‡Ã¼nkÃ¼ Linux daÄŸÄ±tÄ±mlarÄ±nÄ±n bir Ã§oÄŸunda Python yoÄŸun olarak kullanÄ±lÄ±yor. DolayÄ±sÄ±yla bazÄ± kÃ¼tÃ¼phaneler de sisteminizde zaten kurulu durumda. Siz de projenizde o kÃ¼tÃ¼phaneyi hemen kullanmaya baÅŸlayabilirsiniz. BÃ¶yle bir durumda herhangi bir sorun yok gibi gÃ¶rÃ¼lÃ¼yor. Ancak durum malesef Ã¶yle deÄŸil, Ã¶rnek vererek ilerleyelim. Ubuntu kullananlarÄ±n tanÄ±yacaÄŸÄ± â€œapt-add-repositoryâ€ paketini sisteminize kurmak istediÄŸinizi varsayalÄ±m. Bu paket python-requests kÃ¼tÃ¼phanesini kullanÄ±yor. Ancak paketin kullandÄ±ÄŸÄ± kÃ¼tÃ¼phane sÃ¼rÃ¼mÃ¼ 1.5. AynÄ± zamanda geliÅŸtirdiÄŸiniz bir uygulamanÄ±n da python-requests kÃ¼tÃ¼phanesi kullandÄ±ÄŸÄ±nÄ± varsayalÄ±m. DoÄŸal olarak son sÃ¼rÃ¼mÃ¼ kullanÄ±yor olacaksÄ±nÄ±z. Åuanda kÃ¼tÃ¼phanenin son sÃ¼rÃ¼mÃ¼ 2.19.1. Sistemde zaten â€˜apt-add-repositoryâ€™ kurulumundan dolayÄ± bulunan bu kÃ¼tÃ¼phanesi son sÃ¼rÃ¼me gÃ¼ncellerseniz â€˜apt-add-repositoryâ€™ paketi Ã§alÄ±ÅŸamaz duruma gelecek. Ã‡Ã¼nkÃ¼ python-requests kÃ¼tÃ¼phanesinde 1.5 sÃ¼rÃ¼mÃ¼nden bu yana kÃ¶klÃ¼ deÄŸiÅŸiklikler yapÄ±ldÄ±. Bu tarz uygulamalar arasÄ± uyum sorunlarÄ±nÄ± Ã§Ã¶zmek iÃ§in sanal yÃ¶ntemler kullanÄ±yoruz.</p>

<p>Pipenv ise bu sanallaÅŸtÄ±rma iÃ§in ÅŸuanda en fazla Ã¶nerilen yÃ¶ntem. Alternatifi olarak virtualenv gÃ¶sterilebilir ancak pipenv de zaten temelde virtualenvâ€™i kullanÄ±yor. Sadece daha basitleÅŸtiriyor iÅŸlemleri.</p>

<p>Rubyâ€™nin paket yÃ¶neticisi bundle veya nodejsâ€™in paket yÃ¶neticisi npm kullandÄ±ysanÄ±z zaten Ã§ok kolay adapte olabileceÄŸiniz bir yapÄ±sÄ± var.</p>

<p>Sisteminizde zaten python ve pipâ€™in kurulu olduÄŸunu varsayarak pipenvâ€™i kurmak iÃ§in pipâ€™i kullanabiliriz.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>pip3 install pipenv
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Åimdi projemizi geliÅŸtireceÄŸimiz bir klasÃ¶r oluÅŸturalÄ±m. Ben masaÃ¼stÃ¼nde <em>flask-blog</em> adÄ±nda bir kÃ¼tÃ¼phane oluÅŸturuyorum. Daha sonra terminali aÃ§Ä±p (eÄŸer windows kullanÄ±yorsanÄ±z cmdâ€™yi) bu klasÃ¶rÃ¼n iÃ§ine girelim. Åimdi burada pipenv iÃ§in bir ortam oluÅŸturmalÄ±yÄ±z. EÄŸer bir paket kurmak istersek ve orada pipenv ortamÄ± yoksa ilk kurulumu pipenv bizim iÃ§in yapacak. pipenv kullanarak Flask kÃ¼tÃ¼phanesini <em>flask-blog</em> klasÃ¶rÃ¼mÃ¼zÃ¼n iÃ§inde kuralÄ±m.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>pipenv install flask
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Mevcut bir pipenv ortamÄ± olmadÄ±ÄŸÄ± iÃ§in bir ortam oluÅŸturacak. BurasÄ± biraz zaman alabilir, beklememiz gerekiyor.</p>

<p>EÄŸer herhangi bir sorunla karÅŸÄ±laÅŸmadÄ±ysak aÅŸaÄŸÄ±daki gibi bir Ã§Ä±ktÄ± almÄ±ÅŸ olmalÄ±yÄ±z. (Ã§Ä±ktÄ±yÄ± biraz kÄ±salttÄ±m)</p>

<div class="language-posh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="rouge-code"><pre>Creating a virtualenv <span class="k">for </span>this project...
Pipfile: C:\Users\bisguzar\Pipfile
<span class="k">Using </span>c:\users\bisguzar\appdata\local\programs\python\python37-32\python.exe <span class="o">(</span>3.7.0<span class="o">)</span> to create virtualenv...
Already <span class="k">using </span>interpreter c:\users\bisguzar\appdata\local\programs\python\python37-32\python.exe
<span class="k">Using </span>base prefix <span class="s1">'c:\\users\\bisguzar\\appdata\\local\\programs\\python\\python37-32'</span>
<span class="nb">.</span>
<span class="nb">.</span>
Adding flask to Pipfile<span class="s1">'s [packages]...
Pipfile.lock not found, creating...
Locking [dev-packages] dependencies...
Locking [packages] dependencies...
Updated Pipfile.lock (662286)!
Installing dependencies from Pipfile.lock (662286)...
  ================================ 6/6 - 00:00:02
To activate this project'</span>s virtualenv, run pipenv shell.
Alternatively, run a <span class="nb">command </span>inside the virtualenv with pipenv run.
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Sadece <strong>pipenv install</strong> komutunu Ã§alÄ±ÅŸtÄ±rarak iÃ§inde hiÃ§bir kÃ¼tÃ¼phane kurulmamÄ±ÅŸ, temiz bir pipenv ortamÄ± da kurabiliriz. Ancak zaten biz Flaskâ€™Ä± kuracaktÄ±k. Ä°ki iÅŸlemi bir arada yapmÄ±ÅŸ olduk.</p>

<p>KurduÄŸumuz kÃ¼tÃ¼phane aslÄ±nda sisteme kurulmadÄ±. O yÃ¼zden pythonâ€™u Ã§alÄ±ÅŸtÄ±rÄ±p <em>import flask</em> dersek hata almamÄ±z olasÄ± (eÄŸer sisteme daha Ã¶nceden Flask kurmadÄ±ysak!). Bunu test etmek iÃ§in terminale <em>python</em> yazarak Pythonâ€™un etkileÅŸimli kabuÄŸuna girelim ve <em>import flask</em> komutunu verelim.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="n">C</span><span class="p">:</span>\<span class="n">Users</span>\<span class="n">bisguzar</span>\<span class="n">Desktop</span>\<span class="n">flask</span><span class="o">-</span><span class="n">blog</span>
<span class="err">Î»</span> <span class="n">python</span>
<span class="n">Python</span> <span class="mf">3.7</span><span class="o">.</span><span class="mi">0</span> <span class="p">(</span><span class="n">v3</span><span class="o">.</span><span class="mf">7.0</span><span class="p">:</span><span class="mi">1</span><span class="n">bf9cc5093</span><span class="p">,</span> <span class="n">Jun</span> <span class="mi">27</span> <span class="mi">2018</span><span class="p">,</span> <span class="mo">04</span><span class="p">:</span><span class="mo">06</span><span class="p">:</span><span class="mi">47</span><span class="p">)</span> <span class="p">[</span><span class="n">MSC</span> <span class="n">v</span><span class="o">.</span><span class="mi">1914</span> <span class="mi">32</span> <span class="n">bit</span> <span class="p">(</span><span class="n">Intel</span><span class="p">)]</span> <span class="n">on</span> <span class="n">win32</span>
<span class="n">Type</span> <span class="s">"help"</span><span class="p">,</span> <span class="s">"copyright"</span><span class="p">,</span> <span class="s">"credits"</span> <span class="ow">or</span> <span class="s">"license"</span> <span class="k">for</span> <span class="n">more</span> <span class="n">information</span><span class="o">.</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">flask</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s">"&lt;stdin&gt;"</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="n">ModuleNotFoundError</span><span class="p">:</span> <span class="n">No</span> <span class="n">module</span> <span class="n">named</span> <span class="s">'flask'</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Evet, bir hata aldÄ±k. Ã‡Ã¼nkÃ¼ sistemde Flask kÃ¼tÃ¼phanesi kurulu deÄŸil. Ama biz az Ã¶nce bir ÅŸeyler kurmuÅŸtuk, o nerede?
exit() diyerek etkileÅŸimli kabuktan Ã§Ä±kalÄ±m ve proje dosyamÄ±zÄ±n iÃ§inde <strong>pipenv run python</strong> komutunu vererek Pythonâ€™u bu sefer sanal ortamÄ±mÄ±zÄ±n iÃ§inde Ã§alÄ±ÅŸtÄ±ralÄ±m ve tekrar Flaskâ€™Ä± iÃ§e aktarmayÄ± deneyelim.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="n">C</span><span class="p">:</span>\<span class="n">Users</span>\<span class="n">bisguzar</span>\<span class="n">Desktop</span>\<span class="n">flask</span><span class="o">-</span><span class="n">blog</span>
<span class="err">Î»</span> <span class="n">pipenv</span> <span class="n">run</span> <span class="n">python</span>
<span class="n">Python</span> <span class="mf">3.7</span><span class="o">.</span><span class="mi">0</span> <span class="p">(</span><span class="n">v3</span><span class="o">.</span><span class="mf">7.0</span><span class="p">:</span><span class="mi">1</span><span class="n">bf9cc5093</span><span class="p">,</span> <span class="n">Jun</span> <span class="mi">27</span> <span class="mi">2018</span><span class="p">,</span> <span class="mo">04</span><span class="p">:</span><span class="mo">06</span><span class="p">:</span><span class="mi">47</span><span class="p">)</span> <span class="p">[</span><span class="n">MSC</span> <span class="n">v</span><span class="o">.</span><span class="mi">1914</span> <span class="mi">32</span> <span class="n">bit</span> <span class="p">(</span><span class="n">Intel</span><span class="p">)]</span> <span class="n">on</span> <span class="n">win32</span>
<span class="n">Type</span> <span class="s">"help"</span><span class="p">,</span> <span class="s">"copyright"</span><span class="p">,</span> <span class="s">"credits"</span> <span class="ow">or</span> <span class="s">"license"</span> <span class="k">for</span> <span class="n">more</span> <span class="n">information</span><span class="o">.</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">flask</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>OlmasÄ± gerektiÄŸi gibi oldu ve herhangi bir hata almadÄ±k, Ã§Ã¼nkÃ¼ sanal ortamÄ±mÄ±zÄ±n iÃ§inde Flask kÃ¼tÃ¼phanesi kuruluydu. Neden sanal ortamlar kullanmalÄ± ve sistem genelinde paket kurulumlarÄ± yapmamalÄ± konularÄ±nÄ± anladÄ±ÄŸÄ±mÄ±za gÃ¶re yazÄ±mÄ±za devam edebiliriz.</p>

<h1 id="flask-kullanmaya-baÅŸlayalÄ±m">Flask Kullanmaya BaÅŸlayalÄ±m</h1>

<p>Zaten oluÅŸturduÄŸumuz <em>flask-blog</em> klasÃ¶rÃ¼nde olduÄŸumuzu varsayarak burada <em>app.py</em> adÄ±nda yeni bir dosya oluÅŸturalÄ±m. Burada kÄ±sa bir bilgilendirme geÃ§mek istiyorum, hangi metin editÃ¶rÃ¼nÃ¼ kullandÄ±ÄŸÄ±nÄ±zÄ±n bir Ã¶nemi yok. Terminal tabanlÄ± bir editÃ¶r olan vim de kullanabilirsiniz, Python iÃ§in geliÅŸtirilmiÅŸ en donanÄ±mlÄ± IDEâ€™lerden biri olan PyCharm da. Tamamen size kalmÄ±ÅŸ bir durum. Ben sublime-text kullanarak bu yazÄ±yÄ± hazÄ±rlÄ±yorum, belki merak eden olmuÅŸtur ğŸ™‚.</p>

<p>Åimdi oluÅŸturduÄŸumuz <em>app.py</em> dosyasÄ±nÄ± tercih ettiÄŸimiz editÃ¶r (ya da IDE) ile aÃ§alÄ±m. Ãœzerinde Ã§alÄ±ÅŸacaÄŸÄ±mÄ±z ilk satÄ±rlarÄ±mÄ±zÄ± yazalÄ±m ve daha sonrasÄ±nda Ã¼stÃ¼ne konuÅŸalÄ±m.</p>

<p><em>app.py</em></p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span>
<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>

<span class="nd">@app.route</span><span class="p">(</span><span class="s">'/'</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">hello_world</span><span class="p">():</span>
    <span class="k">return</span> <span class="s">'Hello, World!'</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">"__main__"</span><span class="p">:</span> 
    <span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">debug</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Burada ilk satÄ±rda <em>flask</em> kÃ¼tÃ¼phanesinin iÃ§indeki <strong>Flask</strong> sÄ±nÄ±fÄ±nÄ± projemize dahil ettik. Yani aslÄ±nda flask kÃ¼tÃ¼phanesinin iÃ§inden sadece bir parÃ§ayÄ± kullanacaÄŸÄ±mÄ±zÄ±, onu projemizin iÃ§ine Ã§ekmesini sÃ¶yledik Python Beyâ€™e.<br />
Ä°kinci satÄ±rda ise iÃ§eriye aktardÄ±ÄŸÄ±mÄ±z sÄ±nÄ±f ile bir nesne oluÅŸturduk. SÄ±nÄ±f, nesne terimleri biraz <em>Nesne TabanlÄ± Programlama</em> baÅŸlÄ±ÄŸÄ± altÄ±na giriyor. Biz o kadar detaylÄ± ilgilenmiyoruz ÅŸu anlÄ±k. NTP detaylarÄ± iÃ§in <a href="https://belgeler.yazbel.com/python-istihza/nesne_tabanli_programlama1.html">buraya tÄ±klayabilirsiniz. (TÃ¼rkÃ§e)</a>.</p>

<p>Daha sonraki satÄ±rlarda ise bir fonksiyon tanÄ±mladÄ±k ve bu fonksiyon â€˜Hello, World!â€™ diye bir yazÄ± dÃ¶ndÃ¼rÃ¼yor. Basit seviyede Python bilen herkes bunu anlayabilir ama peki ya fonksiyonun Ã¼stÃ¼ndeki <em>@</em> ile baÅŸlayan alan? Pythonda bu kullanÄ±ma <em>decarator</em> deniyor. AslÄ±nda o da bir fonksiyon. FarkÄ±, Ã¼zerine yazÄ±ldÄ±ÄŸÄ± fonksiyon Ã¼zerinde iÅŸlem yapmasÄ±. Bu konu da biraz detaya giriyor. Biz bu konuyla da ilgilenmeyeceÄŸiz. Ama ben Ã¶ÄŸrenmek istiyorum ÅŸuan derseniz <a href="https://wiki.python.org/moin/PythonDecorators">buraya tÄ±klayarak</a> PythonWikiâ€™ye gidebilirsiniz (Ä°ngilizce).</p>

<p><em>app.route</em> decaratorÃ¼nÃ¼ projemizde bol bol kullanacaÄŸÄ±z. Burada yaptÄ±ÄŸÄ± iÅŸ aslÄ±nda fonksiyonumuzun Flask projemizin bir parÃ§asÄ± olmasÄ±nÄ± saÄŸlamak. app objemize (2. satÄ±rda oluÅŸturmuÅŸtuk) fonksiyonumuzu baÄŸlÄ±yor. AynÄ± zamanda kendisi bazÄ± deÄŸerler de alabiliyor. Åu anlÄ±k gÃ¶rdÃ¼ÄŸÃ¼mÃ¼z gibi â€˜/â€™ deÄŸerini almÄ±ÅŸ. Bu deÄŸer fonksiyonu hangi adrese baÄŸlayacaÄŸÄ±nÄ± gÃ¶steriyor. Yani biz oraya â€˜/â€™ yerine <em>â€˜/selamâ€™</em> yazsaydÄ±k sitemizi yayÄ±na aldÄ±ÄŸÄ±mÄ±zda <em>site_adresimiz.com/selam</em> adresini bizim fonksiyonumuza baÄŸlayacaktÄ±. O adrese bir ziyaretÃ§i gelip istek gÃ¶nderdiÄŸi zaman bizim fonksiyonumuzun cevabÄ± oraya ulaÅŸacaktÄ±.</p>

<p>Åimdi bakkal ile Ahmetâ€™in senaryosuna geri dÃ¶nelim ve Ahmetâ€™in bakkaldan yine yoÄŸurt istediÄŸini dÃ¼ÅŸÃ¼nelim ama bu sefer PÄ±nar yoÄŸurt istiyor olsun. Yani bu sefer bir ailenin iÃ§inden (yoÄŸurt ailesi ğŸ™‚) PÄ±nar markalÄ± olanÄ± istiyor. Ä°stediÄŸi ÅŸey yine yoÄŸurt. Bu Ã¶rneÄŸi kendi durumumuzla iliÅŸkilendirmemiz gerekirse biz yine siteyi gÃ¶rmek istiyoruz, ancak bu sefer belli bir noktasÄ±ndaki dosyayÄ± gÃ¶rmek istiyoruz. Peki â€˜/â€™ ne anlama geliyor? Ã‡Ã¼nkÃ¼ burada herhangi bir ibare bulunmuyor, hangi adresi belirtiyor diye dÃ¼ÅŸÃ¼nÃ¼yor olabilirsiniz. â€˜/â€™ ifadesi ana noktayÄ± belirtiyor. Yani hiÃ§bir ÅŸeyi. Buda demek oluyor ki <em>site_adresimiz.com</em> adresine giren biri baÄŸlantÄ± noktasÄ± â€˜/â€™ olan fonksiyonumuz tarafÄ±ndan cevap alacak.</p>

<p>Gelelim son iki satÄ±rÄ±mÄ±za. Ä°lkinin bir karÅŸÄ±laÅŸtÄ±rma satÄ±rÄ± olduÄŸunu gÃ¶rÃ¼yoruz. Bu kÄ±sÄ±m eÄŸer dosyanÄ±n kendisini Ã§alÄ±ÅŸtÄ±rmÄ±ÅŸsak anlamÄ±na geliyor. Bu biraz karÄ±ÅŸÄ±k gelmiÅŸ olabilir. Ama bazÄ± durumlarda <em>app.py</em> dosyamÄ±zÄ± baÅŸka bir .py dosyasÄ±nÄ±n iÃ§ine aktarmamÄ±z gerekebiliyor. Bu durumlarda da projemizin Ã§alÄ±ÅŸmamasÄ± iÃ§in sadece app.pyâ€™nin kendisini Ã§alÄ±ÅŸtÄ±rdÄ±ÄŸÄ±mÄ±zda projenin ayaÄŸa kalkmasÄ±nÄ±<sup id="fnref:1"><a href="#fn:1" class="footnote">1</a></sup> istediÄŸimizi belirtiyoruz. Son satÄ±r da kendisini belli ettiÄŸi Ã¼zere projemizi Ã§alÄ±ÅŸtÄ±rÄ±yor. debug parametresini de True yaparak olasÄ± hatalarda tam bir hata mesajÄ± gÃ¶stermesini saÄŸlÄ±yoruz.</p>

<p>Åimdi projemizi Ã§alÄ±ÅŸtÄ±rÄ±p tarayÄ±cÄ±da gÃ¶rÃ¼ntÃ¼leyebiliriz! Ama unutmayÄ±n, projemizi sanal ortam iÃ§inde Ã§alÄ±ÅŸtÄ±rmamÄ±z -yani pipenv ile- gerekiyor.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>pipenv run python app.py
</pre></td></tr></tbody></table></code></pre></div></div>

<p>EÄŸer herhangi bir hata almadÄ±ysak tarayÄ±cÄ±mÄ±zdan http://127.0.0.1:5000 adresine gidince bizi ilk sayfamÄ±z karÅŸÄ±lÄ±yor olmalÄ±!</p>

<p><img src="http://localhost:4000/assets/images/flask_document/hello_world.jpg" alt="" /></p>

<h1 id="site-iÌ‡skeletini-oluÅŸturalÄ±m">Site Ä°skeletini OluÅŸturalÄ±m</h1>

<p>Websiteniz arkaplanda ÅŸahane teknolojiler kullanÄ±yor olabilir, dÃ¼nyada bir ilki gerÃ§ekleÅŸtiriyor bile olabilir. Ama malesef siteye giren ziyaretÃ§i iÃ§in bu hiÃ§bir ÅŸey ifade etmiyor. Ã‡Ã¼nkÃ¼ ziyaretÃ§iler ne arkada Ã§alÄ±ÅŸan sunucuyu gÃ¶rÃ¼yor ne de Flask fonksiyonlarÄ±nÄ±zdan haberi var. Onlar sadece kendilerine ulaÅŸan html ve htmlâ€™i gÃ¼zelleÅŸtiren css dosyalarÄ±nÄ± gÃ¶rÃ¼yor. O yÃ¼zden web sitemizin iskeletini -yani tasarÄ±mÄ±nÄ±- elimizden geldiÄŸince gÃ¼zel tutmalÄ±yÄ±z. Tabiki bu hÄ±zlandÄ±rÄ±lmÄ±ÅŸ bir dokÃ¼man olduÄŸu iÃ§in Ã§ok basit Ã§alÄ±ÅŸacaÄŸÄ±z, gerisi size ve yaratÄ±cÄ±lÄ±ÄŸÄ±nÄ±za kalmÄ±ÅŸ.</p>

<p>Ã–ncelikle iskelet dosyalarÄ±mÄ±zÄ±n (html) barÄ±nacaÄŸÄ± bir klasÃ¶r oluÅŸturmamÄ±z gerekiyor. <em>flask-blog</em> klasÃ¶rÃ¼nÃ¼n iÃ§ine <em>templates</em> klasÃ¶rÃ¼ oluÅŸturuyoruz. AslÄ±nda bu klasÃ¶r isimlerini kendi istediÄŸimiz gibi yapabiliriz ancak kabul gÃ¶rmÃ¼ÅŸ standartlarÄ± kullanmak her zaman bizim ve projemizi okuyacak kiÅŸilerin yararÄ±na olacaktÄ±r. Daha sonra da <em>templates</em> klasÃ¶rÃ¼ iÃ§ine <em>base.html</em> adÄ±nda bir html dosyasÄ± oluÅŸturuyoruz. Bu aÅŸamada proje dosyamÄ±zÄ±n iÃ§eriÄŸi aÅŸaÄŸÄ±daki gibi olacak.</p>

<p>flask-blog<br />
â”œâ”€â”€â”€templates<br />
â”‚   â””â”€â”€â”€base.html<br />
â”œâ”€â”€â”€app.py</p>

<p>Åimdi neden base.html isiminde bir dosya oluÅŸturduÄŸumuza deneyelim. Base kelime anlamÄ± olarak â€˜baz, temelâ€™ anlamÄ±na geliyor. Yani bu temel iskeletimiz olacak. OluÅŸturacaÄŸÄ±mÄ±z diÄŸer iskeletler base.html iskeletimizi kullanacak bÃ¶ylelikle genel yapÄ±yÄ± her dosya iÃ§in tekrar yazmaktan kurtulacaÄŸÄ±z ve aynÄ± zamanda blogumuzun tÃ¼m sayfalarÄ±nÄ±n benzer ÅŸemada olmasÄ±nÄ± saÄŸlayÄ±p bÃ¼tÃ¼nlÃ¼k saÄŸlayabileceÄŸiz. HTMLâ€™ etiketlerden oluÅŸtuÄŸu konusunda bir bilginiz vardÄ±r elbet. AÃ§Ä±lan her etiket kapatÄ±lÄ±r. <etiket> </etiket> Ã¶rneÄŸinde gÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi kapatÄ±rken taksim kullanÄ±lÄ±r. Bu bilgi aÃ§Ä±klamalarÄ± okumanÄ±zÄ± kolaylaÅŸtÄ±racaktÄ±r. Bu aÅŸamadan itibaren iskelet dosyalarÄ±nÄ± oluÅŸtururken izleyeceÄŸimiz adÄ±mlar tamamen tercihe baÄŸlÄ±dÄ±r. Ã–rnek vermek gerekirse siz h1 etiketi yerine h2 etiketi kullanarak daha kÃ¼Ã§Ã¼k bir yazÄ± elde edebilirsiniz. Kendi zevkinize gÃ¶re bu kÄ±sÄ±mÄ± Ã¶zelleÅŸtirmeyi unutmayÄ±n! Neticede bu sizin blogunuz ğŸ™‚ EÄŸer bu dokÃ¼manÄ± bir workshopta takip ediyorsanÄ±z zaten size yardÄ±mcÄ± olacak birisi var demektir. Hata yapmaktan korkmayÄ±n.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;title&gt;</span>Benim Blogum<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>

<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>base.html iÃ§eriÄŸimizi bu ÅŸekilde oluÅŸturalÄ±m. BurasÄ± Ã§ok da Ã¶zelleÅŸtirebileceÄŸimiz bir alan deÄŸil, HTMLâ€™nin standart ve olmasÄ± gereken etiketleri bunlar.
Burada aÃ§Ä±klamak istediÄŸim iki etiket var. Ã–ncelikle <em>title</em> etiketi, bu etiketin iÃ§erisine yazdÄ±ÄŸÄ±mÄ±z yazÄ± tarayÄ±cÄ±lar tarafÄ±ndan site adÄ± olarak yorumlanacak ve sekmede gÃ¶rÃ¼necek. <em>body</em> etiketine yazdÄ±ÄŸÄ±mÄ±z kodlarÄ±mÄ±z ise tarayÄ±cÄ± tarafÄ±ndan site iÃ§eriÄŸi olarak yorumlanacak ve kullanÄ±cÄ±ya gÃ¶sterilecek.</p>

<p>Bu aÅŸamada biraz tema motorlarÄ±ndan bahsetmek istiyorum. Tema motorlarÄ± (template engines) iskelet dosyalarÄ±mÄ±zÄ± dinamik yapmamÄ±za yardÄ±mcÄ± oluyor. Yani Ã¶rnek vermek gerekirse ana sayfada baÅŸka, profil sayfasÄ±nda baÅŸka site baÅŸlÄ±ÄŸÄ± belirleyebiliyoruz. YapmamÄ±z gereken bu alanlara bir blok geleceÄŸini belirtmek ve daha sonra ilgili fonksiyonlarÄ±n iÃ§inde bloklarÄ± veya deÄŸiÅŸkenleri doldurmak. Bu kÄ±sÄ±mÄ± tam anlayamamÄ±ÅŸ olabilirsiniz, Ã¶rnekler Ã¼zerinde daha iyi anlayacaÄŸÄ±nÄ±zÄ± dÃ¼ÅŸÃ¼nÃ¼yorum. Åimdi base.html dosyamÄ±zÄ± biraz dÃ¼zenleyip ilgili alanlara iÅŸaretlemeler yapalÄ±m.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td><td class="rouge-code"><pre><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;title&gt;</span>Benim Blogum - {% block title %}{% endblock %}<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>

<span class="nt">&lt;header&gt;</span>
	<span class="nt">&lt;main&gt;</span>Benim Blogum<span class="nt">&lt;/main&gt;</span>
<span class="nt">&lt;/header&gt;</span>
<span class="nt">&lt;main&gt;</span>
	<span class="nt">&lt;nav&gt;</span>giriÅŸ yap<span class="nt">&lt;/nav&gt;</span>
	<span class="nt">&lt;content&gt;</span>
		{% block main %}{% endblock %}
	<span class="nt">&lt;/content&gt;</span>
<span class="nt">&lt;/main&gt;</span>

<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>YaptÄ±ÄŸÄ±mÄ±z deÄŸiÅŸikleri aÃ§Ä±klayalÄ±m. <em>title</em> etiketinin iÃ§ine adÄ± yine <em>title</em> olan bir block oluÅŸturduk. Bunu yaparken {% %} ÅŸeklinde bir etiket yazdÄ±k. Bu etiketler Flaskâ€™Ä±n tema motoru olan Jinja2 tarafÄ±ndan okunup yorumlanacak ve sonra ortaya dÃ¼zenlenmiÅŸ bir html dosyasÄ± Ã§Ä±kacak. Bu dÃ¼zenlenmiÅŸ yani render edilmiÅŸ dosya da siteyi gÃ¶rmek iÃ§in istek gÃ¶nderen ziyaretÃ§iye iletilecek. BÃ¶ylelikle ziyaretÃ§i iÃ§in Ã¶zel bir cevap hazÄ±rlamÄ±ÅŸ olacaÄŸÄ±z. <em>title</em> etiketindeki block kÄ±sÄ±mÄ±nÄ± ziyaretÃ§inin gÃ¶rmek istediÄŸi sayfaya gÃ¶re sayfa baÅŸlÄ±ÄŸÄ±nÄ± deÄŸiÅŸtirebilmek iÃ§in kullanacaÄŸÄ±z.</p>

<p><em>main</em> etiketinde de adÄ± yine <em>main</em> olan bir blockumuz daha var. Daha Ã¶nce base.html dosyamÄ±zÄ±n baÅŸka iskeletler tarafÄ±ndan temel alÄ±nÄ±p Ã¼zerine inÅŸa edileceÄŸinden bahsetmiÅŸtik. Bu kÄ±sÄ±ma o iskelet dosyalarÄ±nÄ±n iÃ§eriÄŸi gelecek. BÃ¶ylelikle temel HTML etiketlerimizi her dosya iÃ§in yazmayacaÄŸÄ±z.</p>

<p>Bunlar dÄ±ÅŸÄ±nda <em>header</em> ve <em>nav</em> olmak Ã¼zere iki yeni etiket ekledik. Bunlar da sitemizin diÄŸer ilgili alanlarÄ±nÄ± oluÅŸturuyor. <em>header</em> etiketi sitemizin baÅŸlÄ±ÄŸÄ±nÄ±, Ã¼st kÄ±sÄ±mÄ±nÄ±, <em>nav</em> etiketi ise menÃ¼sÃ¼nÃ¼ belirtiyor. <em>content</em> etiketi ise tamamen alanÄ± belirtmek iÃ§in.</p>

<p>Åimdi <em>templates</em> dosyamÄ±zÄ±n iÃ§ine bir de index.html dosyasÄ± oluÅŸturup sitemizin â€˜/â€™ adresine gelen isteklere cevap verecek ana sayfa iskeletimizi oluÅŸturalÄ±m.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre>{% extends 'base.html' %}

{% block title %} Ana Sayfa {% endblock %}

{% block main %}
	'DÃ¼nya, naber?'
{% endblock %}
</pre></td></tr></tbody></table></code></pre></div></div>

<p>index.html dosyamÄ±zÄ±n iÃ§eriÄŸi bu ÅŸekilde, ÅŸu anlÄ±k. Bir html dosyasÄ± oluÅŸturduk ama iÃ§ine hiÃ§ html etiketi yazmadÄ±k diye dÃ¼ÅŸÃ¼nÃ¼yor olabilirsiniz. Evet, yazmadÄ±k, yazacaÄŸÄ±z ama yazmadan Ã¶nce burayÄ± biraz aÃ§Ä±klamak istiyorum.</p>

<p>Ä°lk satÄ±rda <em>extends</em> ifadesi kullandÄ±k. Extend kelime anlamÄ± olarak <strong>geniÅŸletmek</strong> anlamÄ±na geliyor. Yani index.html dosyamÄ±zÄ±n aslÄ±nda <em>base.html</em> dosyasÄ±nÄ±n geniÅŸletilmiÅŸ hali olduÄŸunu belirtiyoruz. Daha Ã¶nce kullandÄ±ÄŸÄ±mÄ±z deÄŸiÅŸle base.html dosyasÄ±nÄ± temel almasÄ±nÄ± sÃ¶ylÃ¼yoruz. Daha sonra burada da block etiketlerini kullandÄ±ÄŸÄ±mÄ±zÄ± gÃ¶rebilirsiniz. Burada kullandÄ±ÄŸÄ±mÄ±z block etiketleri arasÄ±na yazdÄ±ÄŸÄ±mÄ±z her ÅŸey temel aldÄ±ÄŸÄ±mÄ±z base.html dosyasÄ±ndaki ilgili yere gidecek. Hemen bu durumu canlÄ± canlÄ± gÃ¶relim.</p>

<p><em>app.py</em> dosyamÄ±za dÃ¶nelim ve hello_world fonksiyonumuzdaki <strong>return â€˜Hello, World!â€™</strong> satÄ±rÄ±nÄ± <strong>return render_template(â€˜index.htmlâ€™)</strong> ile deÄŸiÅŸtirelim daha sonra projemizi baÅŸlatalÄ±m. Projemizi pipenv ile baÅŸlatmamÄ±z gerektiÄŸini unutmayalÄ±m!<sup id="fnref:2"><a href="#fn:2" class="footnote">2</a></sup></p>

<p>Projeyi Ã§alÄ±ÅŸtÄ±rdÄ±ktan sonra tarayÄ±cÄ±dan aÃ§tÄ±ÄŸÄ±mÄ±z zaman <strong>NameError: name â€˜render_templateâ€™ is not defined</strong> hatasÄ±yla karÅŸÄ±laÅŸacaÄŸÄ±z. Bu Ã§ok normal. Sizlere Flaskâ€™Ä± tamamen iÃ§eri aktarmadÄ±ÄŸÄ±mÄ±zÄ±, sadece Flaskâ€™Ä±n Flask sÄ±nÄ±fÄ±nÄ± (bilgisayar bilimlerinde en zor konulardan birinin isimlendirme olduÄŸu gerÃ§eÄŸini tekrar anlÄ±yoruz) iÃ§eri aktardÄ±ÄŸÄ±mÄ±zdan bahsetmiÅŸtik. render_template fonksiyonu da Flaskâ€™Ä±n iÃ§inde olmasÄ±na raÄŸmen onu dahil etmediÄŸimiz iÃ§in kendisini bulamadÄ±k ÅŸeklinde hata alÄ±yoruz. request_template fonksiyonunu da iÃ§eri aktararak sorunu Ã§Ã¶zebiliriz. Yani app.pyâ€™deki import kÄ±sÄ±mÄ±nÄ± aÅŸaÄŸÄ±daki ÅŸekilde dÃ¼zenleyip projeyi tekrar Ã§alÄ±ÅŸtÄ±ralÄ±m.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span><span class="p">,</span> <span class="n">render_template</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Åimdi sitemizi Ã§alÄ±ÅŸtÄ±rdÄ±ÄŸÄ±mÄ±z zaman deÄŸiÅŸikliklerin geÃ§erli olduÄŸunu gÃ¶rebiliriz.</p>

<p><img src="http://localhost:4000/assets/images/flask_document/template_helloworld.jpg" alt="" /></p>

<p>Devam etmeden Ã¶nce ÅŸimdiye kadar yaptÄ±klarÄ±mÄ±zÄ± kÄ±sa bir Ã¶zetleyelim. â€˜/â€™ adresine baÄŸlÄ± fonksiyonumuz artÄ±k cevap olarak bir iskeleti (templateâ€™yi) dÃ¶ndÃ¼rÃ¼yor. Bu dÃ¶ndÃ¼rdÃ¼ÄŸÃ¼ templateâ€™de olmamasÄ±na raÄŸmen â€˜GiriÅŸ Yapâ€™ yazÄ±sÄ±nÄ±n yinede sitede bulunmasÄ±nÄ±n sebebinin de aslÄ±nda index.html dosyasÄ±nÄ±n base.html dosyasÄ±nÄ± kullanarak bir bÃ¼tÃ¼n oluÅŸturmasÄ± ve cevap olarak bu oluÅŸan bÃ¼tÃ¼nÃ¼ gÃ¶ndermesi olduÄŸunu biliyoruz.</p>

<p>Biz bir blog sitesi yapÄ±yoruz ve ana sayfada blog yazÄ±larÄ±nÄ± gÃ¶stermek istiyoruz. OyÃ¼zden ÅŸimdilik temsilen iki yazÄ±yÄ± elimizle varmÄ±ÅŸ gibi gireceÄŸiz. Daha sonra fonksiyonlarÄ± yazarken bu kÄ±sÄ±mlarÄ± otomatikleÅŸtireceÄŸiz.</p>

<p>index.html dosyamÄ±zÄ±n iÃ§eriÄŸini aÅŸaÄŸÄ±daki gibi dÃ¼zenleyelim.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td><td class="rouge-code"><pre>{% extends 'base.html' %}

{% block title %} Ana Sayfa {% endblock %}

{% block main %}
	
	<span class="nt">&lt;div&gt;</span>
		<span class="nt">&lt;h2&gt;</span>Hello World!<span class="nt">&lt;/h2&gt;</span>
		<span class="nt">&lt;p&gt;</span>Bu birinci yazÄ±mÄ±zÄ±n kÄ±sa bir Ã¶nizlemesi olsun. DevamÄ± daha sonra :)<span class="nt">&lt;/p&gt;</span>
		<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">'#'</span><span class="nt">&gt;</span>DevamÄ±nÄ± Oku<span class="nt">&lt;/a&gt;</span>
	<span class="nt">&lt;/div&gt;</span>

	<span class="nt">&lt;div&gt;</span>
		<span class="nt">&lt;h2&gt;</span>Bir DiÄŸer YazÄ±!<span class="nt">&lt;/h2&gt;</span>
		<span class="nt">&lt;p&gt;</span>Bu da ikinci yazÄ±mÄ±zÄ±n kÄ±sa bir Ã¶nizlemesi olsun. DevamÄ± daha sonra :)<span class="nt">&lt;/p&gt;</span>
		<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">'#'</span><span class="nt">&gt;</span>DevamÄ±nÄ± Oku<span class="nt">&lt;/a&gt;</span>
	<span class="nt">&lt;/div&gt;</span>

{% endblock %}
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Bu ÅŸimdilik bÃ¶yle kalsÄ±n, daha sonra tekrar dÃ¶neceÄŸiz index.html ÅŸablonumuza. EditÃ¶rlerin giriÅŸ yapabilmesi iÃ§in login.html ÅŸablonuna ihtiyacÄ±mÄ±z var. O yÃ¼zden templates klasÃ¶rÃ¼ne login.html dosyasÄ± oluÅŸturalÄ±m. Bu ÅŸablonda da extends etiketi ile base.htmlâ€™i kullanmasÄ± gerektiÄŸini belirteceÄŸimizi ve title ile main blocklarÄ±nÄ± kullanacaÄŸÄ±mÄ±zÄ± biliyoruz. O yÃ¼zden benim vereceÄŸim Ã¶rneÄŸe bakmadan Ã¶nce kendiniz oluÅŸturmaya Ã§alÄ±ÅŸÄ±n ÅŸablonu, iÃ§ine oluÅŸturacaÄŸÄ±mÄ±z formu beraber yaparÄ±z yine ğŸ™‚.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre></td><td class="rouge-code"><pre>{% extends 'base.html' %}
{% block title %} GiriÅŸ Yap {% endblock %}
{% block main %}
	<span class="nt">&lt;form</span> <span class="na">method=</span><span class="s">"POST"</span> <span class="na">action=</span><span class="s">"/girisyap"</span><span class="nt">&gt;</span>
		
		<span class="nt">&lt;table&gt;</span>
			<span class="nt">&lt;tr&gt;</span>
				<span class="nt">&lt;th&gt;&lt;label</span> <span class="na">for=</span><span class="s">"username"</span><span class="nt">&gt;</span>KullanÄ±cÄ± AdÄ±:<span class="nt">&lt;/label&gt;&lt;/th&gt;</span>
				<span class="nt">&lt;th&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"username"</span> <span class="na">required=</span><span class="s">""</span><span class="nt">&gt;&lt;/br&gt;&lt;/th&gt;</span>
			<span class="nt">&lt;/tr&gt;</span>
			<span class="nt">&lt;tr&gt;</span>
				<span class="nt">&lt;td&gt;&lt;label</span> <span class="na">for=</span><span class="s">"password"</span><span class="nt">&gt;</span>Parola:<span class="nt">&lt;/label&gt;&lt;/td&gt;</span>
				<span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"password"</span> <span class="na">name=</span><span class="s">"password"</span> <span class="na">required=</span><span class="s">""</span><span class="nt">&gt;&lt;/td&gt;</span>
			<span class="nt">&lt;/tr&gt;</span>
			<span class="nt">&lt;tr&gt;</span>
				<span class="nt">&lt;td&gt;&lt;button</span> <span class="na">type=</span><span class="s">"submit"</span><span class="nt">&gt;</span>GiriÅŸ Yap<span class="nt">&lt;/button&gt;&lt;/td&gt;</span>
			<span class="nt">&lt;/tr&gt;</span>
		<span class="nt">&lt;/table&gt;</span>
	<span class="nt">&lt;/form&gt;</span>
{% endblock %}
</pre></td></tr></tbody></table></code></pre></div></div>

<p>login.html ÅŸablonumuzun iÃ§eriÄŸini bu ÅŸekilde hazÄ±rlayabiliriz. EditÃ¶rler bu sayfadan giriÅŸ yapacaÄŸÄ± iÃ§in bir giriÅŸ formu oluÅŸturmamÄ±z gerekiyor. <em>form</em> etiketinin <em>action</em> Ã¶zelliÄŸine girdiÄŸimiz adresi gÃ¶rÃ¼yorsunuz. Bu adresi daha sonra oluÅŸturacaÄŸÄ±z, ÅŸablonumuzda ÅŸimdiden bir yÃ¶nlendirme eklememizde sakÄ±nca yok. AynÄ± ÅŸekilde base.html iskeletimizdeki <em>â€˜giriÅŸ yapâ€™</em> yazÄ±sÄ±na da htmlâ€™nin <strong>a</strong> etiketini kullanarak aynÄ± adrese link verelim.</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"/girisyap"</span><span class="nt">&gt;</span>giriÅŸ yap<span class="nt">&lt;/a&gt;</span> 
</pre></td></tr></tbody></table></code></pre></div></div>
<p>Son olarak bu ÅŸekilde gÃ¶rÃ¼nÃ¼yor olacak.</p>

<p>Åimdi yine blog sitelerinin gereksinimlerinden biri olan yeni yazÄ± ekleme sayfamÄ±zÄ± hazÄ±rlayalÄ±m. Buraya kadar Jinja2 (hatÄ±rlayalÄ±m: Jinja2, Flaskâ€™Ä±n tema motorudur) etiketlerini ve form yapÄ±sÄ±nÄ± Ã¶ÄŸrenmiÅŸ olmalÄ±yÄ±z. Siz yine hazÄ±r olan Ã¶rneÄŸe bakmadan Ã¶nce <strong>newpost.html</strong> adÄ±nda iÃ§inde bir form barÄ±ndÄ±ran ÅŸablon oluÅŸturmaya Ã§alÄ±ÅŸÄ±n. YapabildiÄŸiniz kadar yapÄ±n, daha sonra buradaki Ã¶rnek ile kÄ±yaslayÄ±p eksiklerini/hatalarÄ±nÄ± dÃ¼zeltin. Kopyala yapÄ±ÅŸtÄ±r ile Ã¶ÄŸrenmek malesef mÃ¼mkÃ¼n deÄŸil.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre></td><td class="rouge-code"><pre>{% extends 'base.html' %}
{% block title %} Yeni YazÄ± {% endblock %}
{% block main %}
	<span class="nt">&lt;form</span> <span class="na">method=</span><span class="s">"POST"</span> <span class="na">action=</span><span class="s">"/yaziekle"</span><span class="nt">&gt;</span>
		
		<span class="nt">&lt;table&gt;</span>
			<span class="nt">&lt;tr&gt;</span>
				<span class="nt">&lt;th&gt;&lt;label</span> <span class="na">for=</span><span class="s">"title"</span><span class="nt">&gt;</span>YazÄ± BaÅŸlÄ±ÄŸÄ±:<span class="nt">&lt;/label&gt;&lt;/th&gt;</span>
				<span class="nt">&lt;th&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"title"</span> <span class="na">require</span><span class="nt">&gt;&lt;/br&gt;&lt;/th&gt;</span>
			<span class="nt">&lt;/tr&gt;</span>
			<span class="nt">&lt;tr&gt;</span>
				<span class="nt">&lt;td&gt;&lt;label</span> <span class="na">for=</span><span class="s">"content"</span><span class="nt">&gt;</span>YazÄ± Ä°Ã§eriÄŸi:<span class="nt">&lt;/label&gt;&lt;/td&gt;</span>
				<span class="nt">&lt;td&gt;&lt;textarea</span> <span class="na">name=</span><span class="s">"content"</span> <span class="na">required</span><span class="nt">&gt;&lt;/textarea&gt;&lt;/td&gt;</span>
			<span class="nt">&lt;/tr&gt;</span>
			<span class="nt">&lt;tr&gt;</span>
				<span class="nt">&lt;td&gt;&lt;button</span> <span class="na">type=</span><span class="s">"submit"</span><span class="nt">&gt;</span>YazÄ± Ekle<span class="nt">&lt;/button&gt;&lt;/td&gt;</span>
			<span class="nt">&lt;/tr&gt;</span>
		<span class="nt">&lt;/table&gt;</span>
	<span class="nt">&lt;/form&gt;</span>
{% endblock %}
</pre></td></tr></tbody></table></code></pre></div></div>

<p>SonuÃ§ olarak newpost.html dosyamÄ±z da buna benziyor olmalÄ±. Åimdi devam edebiliriz.</p>

<h2 id="ÅŸablonlarÄ±mÄ±zÄ±-gÃ¼zelleÅŸtirelim">ÅablonlarÄ±mÄ±zÄ± GÃ¼zelleÅŸtirelim</h2>

<p>ÅablonlarÄ± oluÅŸtururken tamamen benimle aynÄ± ÅŸeyleri yapamamanÄ±zÄ±, biraz yaratÄ±cÄ±lÄ±k katmanÄ±zÄ± rica etmiÅŸtim. Åimdi o kÄ±sÄ±ma geliyoruz. ÅablonlarÄ±mÄ±zÄ± gÃ¼zelleÅŸtirirken kendi yazÄ± bÃ¼yÃ¼klÃ¼klerinizi, arkaplan ve yazÄ± renklerinizi kullanmaktan Ã§ekinmeyin. Malesef css kodlarÄ±nÄ± Ã§ok fazla aÃ§Ä±klayamayacaÄŸÄ±m. Ancak cssâ€™yi basit seviyede Ã¶ÄŸrenmek iÃ§in birkaÃ§ dokÃ¼man okumanÄ±z yeterli.</p>

<p>Ä°lk paragraftan da anlaÅŸÄ±ldÄ±ÄŸÄ± Ã¼zere ÅŸablonlarÄ±mÄ±zÄ± gÃ¼zelleÅŸtirirken CSSâ€™den yararlanacaÄŸÄ±z. CSS iÃ§in Ã¶zetle, HTML etiketlerinin ÅŸekilleri Ã¼zerinde oynamalar yapmamÄ±zÄ± saÄŸlayan bir dil diyebiliriz. CSS dosyalarÄ± eÄŸer HTML dosyalarÄ±nÄ±n iÃ§inde belirtilmemiÅŸse malesef Ã§alÄ±ÅŸamÄ±yor. Bu aÅŸamada iÅŸin iÃ§ine static dosyalar dediÄŸimiz durum giriyor. Statik bir websitesi geliÅŸtirirken (yani html dosyasÄ±ndan oluÅŸan, herhangi bir Ã¶zelliÄŸi olmayan, dÃ¼z site) html dosyasÄ±nÄ±n iÃ§ine direk olarak css dosyasÄ±nÄ±n yolunu belirtebilirdik. Ancak biz Flask kullanarak dinamik bir site geliÅŸtirdiÄŸimiz iÃ§in malesef bu Ã§ok mantÄ±klÄ± bir yÃ¶ntem olmayacaktÄ±r. Hem ÅŸablonlar ile diÄŸer dosyalarÄ±n farklÄ± lokasyonlarda tutuluyor olmasÄ± hem de proje bÃ¼yÃ¼dÃ¼kÃ§e oluÅŸacak dosya kalabalÄ±ÄŸÄ±nda her dosya iÃ§in elimizde adres vermek mantÄ±klÄ± bir Ã§Ã¶zÃ¼m olmuyor. Burada yardÄ±mÄ±mÄ±za static dosyalar yetiÅŸiyor. Bunun iÃ§in <em>flask-blog</em> klasÃ¶rÃ¼ne yani projenin ana klasÃ¶rÃ¼ne bir de static klasÃ¶rÃ¼ oluÅŸturalÄ±m.</p>

<p>SonuÃ§ olarak proje klasÃ¶rÃ¼mÃ¼zÃ¼n iÃ§eriÄŸi aÅŸaÄŸÄ±daki gibi olmalÄ±.</p>

<p>flask-blog<br />
â”œâ”€â”€â”€static<br />
â”œâ”€â”€â”€templates<br />
â”‚   â””â”€â”€â”€base.html<br />
â”‚   â””â”€â”€â”€index.html<br />
â”‚   â””â”€â”€â”€login.html<br />
â”œâ”€â”€â”€app.py</p>

<p>Åimdi stil dosyamÄ±zÄ± oluÅŸturacaÄŸÄ±z. Biz bir dosya oluÅŸturacaÄŸÄ±z, ama yine de standartlara uymak iÃ§in static klasÃ¶rÃ¼mÃ¼zÃ¼n iÃ§ine <em>css</em> adÄ±nda yeni bir klasÃ¶r aÃ§Ä±yoruz. Stil dosyalarÄ±mÄ±zÄ± bu klasÃ¶re kaydedeceÄŸiz. AynÄ± ÅŸekilde resim dosyalarÄ±nÄ± da static klasÃ¶rÃ¼nÃ¼n iÃ§indeki <em>images</em>, JavaScript dosyalarÄ±mÄ±zÄ± da static klasÃ¶rÃ¼ iÃ§indeki <em>js</em> klasÃ¶rÃ¼ne kayÄ±t etmeliyiz. Daha Ã¶nce de sÃ¶ylediÄŸim gibi, dosya isimlerini siz de belirleyebilirsiniz. Hatta dosyalarÄ± iÅŸlevlerine gÃ¶re sÄ±nÄ±flandÄ±rmak yerine hepsini direkt <em>static</em> klasÃ¶rÃ¼ iÃ§ine de oluÅŸturabilirsiniz. Ancak genel kabul gÃ¶rmÃ¼ÅŸ standartlarÄ± kullanmak ve bunlara alÄ±ÅŸmak sizin iÃ§in daha iyi olacaktÄ±r.</p>

<p>OluÅŸturduÄŸumuz <em>css</em> klasÃ¶rÃ¼mÃ¼zÃ¼n iÃ§ine <em>style.css</em> adÄ±nda bir dosya oluÅŸturalÄ±m ve bu dosyamÄ±zÄ± dÃ¼zenlemek Ã¼zere aÃ§alÄ±m. Bu aÅŸamada klasÃ¶r yapÄ±mÄ±z ÅŸu ÅŸekilde olacak.</p>

<p>flask-blog<br />
â”œâ”€â”€â”€static<br />
â”‚   â””â”€â”€â”€css<br />
â”‚Â Â Â Â Â Â Â Â â””â”€â”€â”€style.css<br />
â”œâ”€â”€â”€templates<br />
â”‚   â””â”€â”€â”€base.html<br />
â”‚   â””â”€â”€â”€index.html<br />
â”‚   â””â”€â”€â”€login.html<br />
â”œâ”€â”€â”€app.py</p>

<p>Bu aÅŸamada style.css dosyasÄ±nÄ± tamamen kendi zevkinize gÃ¶re oluÅŸturmalÄ±sÄ±nÄ±z. Ancak bu dokÃ¼manda -Orhun YazÄ±tlarÄ±â€™na benzememesi iÃ§in- <em>CSS</em> kullanÄ±mÄ±na deÄŸinmeyeceÄŸiz. EÄŸer bir workshopta bu dokÃ¼manÄ± takip ediyorsanÄ±z hazÄ±r Ã¶rnek Ã¼zerinde deÄŸiÅŸiklikler yapabilirsiniz. <em>style.css</em> dosyamÄ±zÄ± oluÅŸturmaya baÅŸlamadan Ã¶nce bu dosyamÄ±zÄ± <em>base.html</em> dosyamÄ±zda iÃ§eri aktaralÄ±m. Bunun iÃ§in <em>head</em> HTML etiketinin iÃ§ine, <em>title</em> etiketinden sonra aÅŸaÄŸÄ±daki gibi bir satÄ±r ekleyeceÄŸiz.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">type=</span><span class="s">"text/css"</span> <span class="na">href=</span><span class="s">"{{ url_for('static', filename='css/style.css') }}"</span><span class="nt">&gt;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>EklediÄŸimiz etiketin <em>href</em> Ã¶zelliÄŸine de bir tema motoru etiketi yazdÄ±ÄŸÄ±mÄ±zÄ± gÃ¶rÃ¼yorsunuz. Bu etiket ziyaretÃ§iye gÃ¶nderilecek HTML dosyasÄ± oluÅŸturulmadan Ã¶nce istediÄŸimiz dosyanÄ±n -ki bu Ã¶rnekte css iÃ§indeki style.css dosyasÄ±- tam adresini oluÅŸturup o kÄ±sÄ±ma ekleyecek. Ä°sterseniz blogunuzu pipenv ile baÅŸlatÄ±p sayfa kaynaÄŸÄ±nÄ± gÃ¶rÃ¼ntÃ¼leyerek kontrol edebilirsiniz.</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td><td class="rouge-code"><pre><span class="nt">body</span><span class="o">,</span><span class="nt">html</span> <span class="p">{</span>
  <span class="nl">margin</span><span class="p">:</span><span class="m">0</span><span class="p">;</span>
  <span class="nl">padding</span><span class="p">:</span><span class="m">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">main</span><span class="p">{</span>
	<span class="nl">width</span><span class="p">:</span> <span class="m">50%</span><span class="p">;</span>
	<span class="nl">margin</span><span class="p">:</span> <span class="m">0</span> <span class="nb">auto</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">header</span><span class="p">{</span>
	<span class="nl">background-color</span><span class="p">:</span> <span class="no">orange</span><span class="p">;</span>
	<span class="nl">font-size</span><span class="p">:</span> <span class="m">32px</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">main</span> <span class="nt">div</span><span class="nd">:not</span><span class="o">(</span><span class="nd">:last-child</span><span class="o">)</span><span class="p">{</span>
	<span class="nl">border-bottom</span><span class="p">:</span> <span class="m">2px</span> <span class="nb">dotted</span> <span class="no">black</span><span class="p">;</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Ben <em>style.css</em> dosyamÄ± bu ÅŸekilde hazÄ±rladÄ±m. Evet tasarÄ±m anlayÄ±ÅŸÄ±mÄ±n Ã§ok kÄ±sÄ±tlÄ± olduÄŸunun farkÄ±ndayÄ±m, sizlerin Ã§ok daha gÃ¼zellerini yapacaÄŸÄ±nÄ±za eminim. HazÄ±rladÄ±ÄŸÄ±nÄ±z style.css dosyalarÄ±nÄ± bana mail olarak gÃ¶nderirseniz buradaki basit Ã¶rnekle deÄŸiÅŸtirmeyi Ã§ok isterim ğŸ™‚. Åuanda ana sayfamÄ±n son hali aÅŸaÄŸÄ±daki gibi.</p>

<p><img src="http://localhost:4000/assets/images/flask_document/styled.jpg" alt="" /></p>

<p>TasarÄ±m iÃ§in bukadar vakit ayÄ±rdÄ±ÄŸÄ±mÄ±z yeter. Åimdi iÅŸin eÄŸlenceli kÄ±sÄ±mlarÄ±na dÃ¶nelim.</p>

<h1 id="veritabanÄ±-modelleri">VeritabanÄ± Modelleri</h1>

<p>Bir blog sitesi hazÄ±rladÄ±ÄŸÄ±mÄ±zÄ± tekrar dÃ¼ÅŸÃ¼nÃ¼rsek bu blogun verilerini -editÃ¶r bilgileri, yazÄ±lar- tutmasÄ± iÃ§in bir depoya ihtiyacÄ± var. Ä°ÅŸte bu yÃ¼zden bir veritabanÄ± kullanmamÄ±z gerekiyor. VeritabanÄ± olarak sqlite kullanacaÄŸÄ±z. Åuanda basit bir ÅŸey yaptÄ±ÄŸÄ±mÄ±z ve Ã§ok fazla veritabanÄ± sorgusu oluÅŸturmayacaÄŸÄ±mÄ±z iÃ§in sqlite bize yetecektir. VeritabanÄ± ile Flask fonksiyonlarÄ±mÄ±zÄ± <em>sql</em> adÄ±ndaki bir dil ile haberleÅŸtirebiliriz. Ancak biz bu yÃ¶ntemi kullanmak yerine <em>ORM</em> adÄ± verilen ve veritabanÄ± sorgu iÅŸlerimizi kolaylaÅŸtÄ±ran yardÄ±mcÄ± ara katmanlardan birini kullanacaÄŸÄ±z. ORM kÃ¼tÃ¼phanesi olarak bu dokÃ¼manda PeeWee kullanmaya karar verdim, o yÃ¼zden pipenv ile oluÅŸturduÄŸumuz sanal ortama peewee kÃ¼tÃ¼phanesini de kurmamÄ±z gerekiyor. Pipenv ile bu iÅŸi kolayca yaptÄ±ÄŸÄ±mÄ±zÄ± hatÄ±rlayabiliriz. Bir terminal ile proje klasÃ¶rÃ¼mÃ¼ze girip (flask-blog) <strong>pipenv install peewee</strong> komutunu vermemiz yeterli.</p>

<p>Peeweeâ€™yi kurduÄŸumuza gÃ¶re kullanmanÄ±n vaktidir! <em>app.py</em> dosyamÄ±za girelim ve en baÅŸa <strong>from peewee import *</strong> komutunu ekleyerek peeweeâ€™yi iÃ§e aktaralÄ±m. Åimdi veritabanÄ± iÅŸlemlerimizi yapabilmemiz iÃ§in tanÄ±mlanmÄ±ÅŸ bir veritabanÄ±na ihtiyacÄ±mÄ±z var. Bu baÄŸlantÄ±yÄ± da oluÅŸturduÄŸumuzda app.py dosyamÄ±zÄ±n ilk satÄ±rlarÄ± aÅŸaÄŸÄ±daki gibi gÃ¶rÃ¼necek.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span><span class="p">,</span> <span class="n">render_template</span>
<span class="kn">from</span> <span class="nn">peewee</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>
<span class="n">database</span> <span class="o">=</span> <span class="n">SqliteDatabase</span><span class="p">(</span><span class="s">'database.sql'</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>SÄ±radaki yapmamÄ±z gereken iÅŸ ise modellerimizi oluÅŸturmak. Modeller, veritabanÄ±ndaki tablolarÄ±n (verilerin tutulduÄŸu yerlerin) oluÅŸturulmasÄ±, yÃ¶netilmesini saÄŸlayacaÄŸÄ±mÄ±z araÃ§lar olacak. Bizim ihtiyacÄ±mÄ±z olan iki model var, birincisi editÃ¶rÃ¼n kullanÄ±cÄ± adÄ± ve parola verisinin tutulacaÄŸÄ± <strong>Editor</strong> modeli bir diÄŸeri ise blog yazÄ±larÄ±nÄ±n tutulacaÄŸÄ± <strong>Post</strong> modeli. Modellerimizi <em>database</em> tanÄ±mlamamÄ±zdan hemen sonra tanÄ±mlayacaÄŸÄ±z. OnlarÄ± da oluÅŸturup Ã¼zerine konuÅŸalÄ±m.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Editor</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">database</span> <span class="o">=</span> <span class="n">database</span>

    <span class="n">username</span> <span class="o">=</span> <span class="n">TextField</span><span class="p">()</span>
    <span class="n">password</span> <span class="o">=</span> <span class="n">TextField</span><span class="p">()</span>

<span class="k">class</span> <span class="nc">Post</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">database</span> <span class="o">=</span> <span class="n">database</span>

    <span class="n">title</span> <span class="o">=</span> <span class="n">TextField</span><span class="p">()</span>
    <span class="n">content</span> <span class="o">=</span> <span class="n">TextField</span><span class="p">()</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Bu ikiÅŸer satÄ±rlÄ±k iki tablo (her model databasedeki bir tabloyu temsil ediyorve her ikisi de iki farklÄ± satÄ±ra/deÄŸere sahip) projemizin ÅŸu aÅŸamasÄ±nda bize yeterli. Projemiz geniÅŸledikÃ§e tablolarÄ±mÄ±zÄ± da geniÅŸletebilir, yeni tablolar ekleyebiliriz. <strong>app.py</strong> dosyamÄ±zÄ± kaydedelim ve hazÄ±rladÄ±ÄŸÄ±mÄ±z modellerin veritabanÄ±mÄ±zda da oluÅŸmasÄ±nÄ± saÄŸlayalÄ±m. Bunun iÃ§in yine bir terminal aÃ§Ä±p proje dizinimize girelim ve <strong>pipenv run python</strong> komutu ile sanal ortamÄ±mÄ±z iÃ§inde bir python Ã§alÄ±ÅŸtÄ±ralÄ±m. Daha sonra yapacaklarÄ±mÄ±z ise app.py dosyasÄ±nÄ± iÃ§eri aktarmak ve daha sonra oradaki mevcut database deÄŸiÅŸkenimiz Ã¼zerinde hazÄ±rladÄ±ÄŸÄ±mÄ±z modelleri oluÅŸturmak olacak.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre>C:<span class="se">\U</span>sers<span class="se">\b</span>isguzar<span class="se">\D</span>esktop<span class="se">\f</span>lask-blog
Î» pipenv run python
Python 3.7.0 <span class="o">(</span>v3.7.0:1bf9cc5093, Jun 27 2018, 04:06:47<span class="o">)</span> <span class="o">[</span>MSC v.1914 32 bit <span class="o">(</span>Intel<span class="o">)]</span> on win32
Type <span class="s2">"help"</span>, <span class="s2">"copyright"</span>, <span class="s2">"credits"</span> or <span class="s2">"license"</span> <span class="k">for </span>more information.
<span class="o">&gt;&gt;&gt;</span> from app import <span class="k">*</span>
<span class="o">&gt;&gt;&gt;</span> database.create_tables<span class="o">([</span>Editor, Post]<span class="o">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>YazdÄ±ÄŸÄ±mÄ±z iki satÄ±ra bakacak olursanÄ±z yukarÄ±da belirttiÄŸim iÅŸlemleri yaptÄ±ÄŸÄ±mÄ±zÄ± gÃ¶rebilirsiniz. Herhangi bir hata oluÅŸmadÄ± ise hiÃ§bir Ã§Ä±ktÄ± almamÄ±ÅŸ olmalÄ±sÄ±nÄ±z. Daha sonra proje dosyanÄ±zÄ± kontrol ettiÄŸinizde orada <em>database.sql</em> adÄ±nda bir dosya oluÅŸtuÄŸunu gÃ¶rebilirsiniz. Bu dosya peeweeâ€™nin Ã¼zerinde Ã§alÄ±ÅŸacaÄŸÄ± ve verilerimizin tutulacaÄŸÄ± veritabanÄ±mÄ±z.</p>

<p>Åimdi hazÄ±r veritabanÄ± tablolarÄ±mÄ±zÄ± oluÅŸturmuÅŸken terminalimizi kapatmayalÄ±m ve ilk editÃ¶rÃ¼mÃ¼zÃ¼ de oluÅŸturalÄ±m. Ama burada dikkat etmemiz gereken bir nokta var. EditÃ¶rÃ¼mÃ¼z iÃ§in gireceÄŸimiz bilgiler kullanÄ±cÄ± adÄ± ve parola. Peki parolayÄ± dÃ¼z metin olarak veritabanÄ±nda saklamak mantÄ±klÄ± mÄ±? Åuan biz lokalde Ã§alÄ±ÅŸtÄ±ÄŸÄ±mÄ±z iÃ§in aslÄ±nda evet diyebilirsiniz, yanlÄ±ÅŸlayamam da. Ama daha geniÅŸ bir projede birÃ§ok kullanÄ±cÄ±nÄ±n parolasÄ±nÄ±n bulunduÄŸunu varsayarsak ve kÃ¶tÃ¼ amaÃ§lÄ± birilerinin veritabanÄ±nÄ±za eriÅŸim saÄŸladÄ±ÄŸÄ±nÄ± dÃ¼ÅŸÃ¼nÃ¼rsek bu felaket olur. O yÃ¼zden bazÄ± ÅŸifreleme yÃ¶ntemleri ile parolayÄ± ÅŸifreleyip saklayacaÄŸÄ±z.</p>

<p>ParolayÄ± ÅŸifrelemek iÃ§in Flask ile birlikte zaten kurulmuÅŸ olan <strong>werkzeug</strong> kÃ¼tÃ¼phanesinin <strong>security</strong> sÄ±nÄ±fÄ±ndan <strong>generate_password_hash</strong> fonksiyonunu kullanacaÄŸÄ±z. Biraz uzun bir cÃ¼mle olduÄŸunun farkÄ±ndayÄ±m ama yaparken Ã§ok kolay olduÄŸunu gÃ¶receksiniz ğŸ™‚. Bu fonksiyona bir metin veriyoruz -ki bu bizim kullanmak istediÄŸimiz parola oluyor- ve fonksiyon bize bu parolanÄ±n ÅŸifrelenmiÅŸ halini veriyor. Hadi bunu zaten aÃ§Ä±k olan terminalimizde deneyelim.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="o">&gt;&gt;&gt;</span> from werkzeug.security import generate_password_hash
<span class="o">&gt;&gt;&gt;</span> generate_password_hash<span class="o">(</span><span class="s1">'123'</span><span class="o">)</span>
<span class="s1">'pbkdf2:sha256:50000$QiivRF34$ae92386b5de080073206455bc7384f42c83e70d313cac2f76b2b9d991671114b'</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Ã–nce gerekli fonksiyonumuzu iÃ§e aktardÄ±k, daha sonra fonksiyonumuza ÅŸifrelemesi iÃ§in â€˜123â€™ verisini verdik ve o da bize ÅŸifrelenmiÅŸ halini dÃ¶ndÃ¼rdÃ¼. ÅifrelenmiÅŸ hali gÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi Ã§ok karmaÅŸÄ±k bir yapÄ±. Bu yapÄ±nÄ±n geri dÃ¶ndÃ¼rÃ¼lmesi mÃ¼mkÃ¼n deÄŸil. Peki biz giriÅŸ yaparken nasÄ±l ÅŸifreleri karÅŸÄ±laÅŸtÄ±racaÄŸÄ±z? KullanÄ±cÄ±nÄ±n giriÅŸ yaparken belirttiÄŸi parolayÄ± da ÅŸifreleyip veritabanÄ±ndaki ile karÅŸÄ±laÅŸtÄ±racaÄŸÄ±z. Yani biz kullanÄ±cÄ±nÄ±n parolasÄ± ile ilgilenmeyeceÄŸiz. Åimdi buradan ÅŸifrelenmiÅŸ parolamÄ±zÄ± kopyalayalÄ±m (tÄ±rnak iÅŸaretleri hariÃ§) ve bir kenara not edelim, hemen birazdan lazÄ±m olacak.</p>

<p>Yine aÃ§Ä±k olan terminalimizde bir editÃ¶r kaydÄ± oluÅŸturalÄ±m.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="o">&gt;&gt;&gt;</span> <span class="n">Editor</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">'bisguzar'</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">'pbkdf2:sha256:50000$QiivRF34$ae92386b5de080073206455bc7384f42c83e70d313cac2f76b2b9d991671114b'</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">Editor</span><span class="p">:</span> <span class="mi">1</span><span class="o">&gt;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Zaten app.py dosyamÄ±zdaki her ÅŸeyi iÃ§eri aktarmÄ±ÅŸtÄ±k, yani Editor modelimiz de Ã§alÄ±ÅŸtÄ±rdÄ±ÄŸÄ±mÄ±z etkileÅŸimli kabukta mevcuttu. Biz de onu kullanarak yeni bir kayÄ±t oluÅŸturduk. Username ve password deÄŸerlerini kendinizinkilerle deÄŸiÅŸtirmeyi unutmayÄ±n!</p>

<p>Modellerle iÅŸimiz ÅŸimdilik bukadar. Åimdi blogumuzun tÃ¼m hamallÄ±ÄŸÄ±nÄ± yapacak olan arka tarafÄ± yazmaya baÅŸlayabiliriz.</p>

<h1 id="back-endi-hazÄ±rlayalÄ±m">Back-endâ€™i HazÄ±rlayalÄ±m</h1>

<p>AslÄ±nda ÅŸimdiye kadar birÃ§ok ÅŸeyi hallettik, bundan sonra yapacaÄŸÄ±mÄ±z iÅŸlemler sitemizi hazÄ±rlamak iÃ§in son adÄ±mlar. Ã–ncelikle her sayfayÄ± farklÄ± bir fonksiyonun ve baÄŸlantÄ± noktasÄ±nÄ±n hazÄ±rladÄ±ÄŸÄ±ndan bahsetmiÅŸtik. O yÃ¼zden sayfalarÄ±mÄ±z iÃ§in yeni fonksiyonlar oluÅŸturmalÄ±yÄ±z. Åu anda zaten â€˜/â€™ adresine baÄŸlÄ± <em>hello_world</em> adÄ±nda bir fonksiyonumuz mevcut. Hadi fonksiyonumuzun adÄ±nÄ± <em>hello_world</em> deÄŸil de <em>index</em> olarak deÄŸiÅŸtirelim. Websitelerinde ana baÄŸlantÄ± noktasÄ±nÄ± karÅŸÄ±layan her ÅŸeye <strong>index</strong> diyoruz. HatÄ±rlarsanÄ±z ÅŸablonunun adÄ±nÄ± da <em>index.html</em> koymuÅŸtuk. Fonksiyonumuz ÅŸu aÅŸamada son olarak aÅŸaÄŸÄ±daki gibi gÃ¶rÃ¼necek.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="nd">@app.route</span><span class="p">(</span><span class="s">'/'</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">index</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s">'index.html'</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="fonksiyonlarÄ±mÄ±zÄ±-oluÅŸturalÄ±m">FonksiyonlarÄ±mÄ±zÄ± OluÅŸturalÄ±m</h2>

<p>Ancak bizim blogumuz sadece indexâ€™den -yani ana sayfadan- ibaret deÄŸil. EditÃ¶rlerin giriÅŸ yapabileceÄŸi ve yazÄ± ekleyebileceÄŸi iki ayrÄ± sayfamÄ±z daha var. Onlar iÃ§in de birer fonksiyon oluÅŸturup decaratÃ¶r ile baÄŸlantÄ± adreslerini ayarlamamÄ±z gerekiyor. Hadi ÅŸimdi adÄ± <strong>login</strong> olan ve <strong>/girisyap</strong> baÄŸlantÄ± noktasÄ±na baÄŸlanmÄ±ÅŸ bir fonksiyon oluÅŸturalÄ±m. Ve aynÄ± zamanda bu fonksiyonumuz da deÄŸer olarak bir temayÄ± dÃ¶ndÃ¼recek, <em>login.html</em> temasÄ±nÄ±.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="nd">@app.route</span><span class="p">(</span><span class="s">'/girisyap'</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">login</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s">'login.html'</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Aynen bu ÅŸekilde gÃ¶rÃ¼nÃ¼yor olmalÄ±. SanÄ±rÄ±m fonksiyon adÄ±, baÄŸlantÄ± noktasÄ± ve ÅŸablon dÃ¶ndÃ¼rme konularÄ±nÄ± anladÄ±k. O zaman sÄ±ra sizde. Åimdi de adÄ± <strong>newpost</strong> olan, <strong>/yaziekle</strong> adresine baÄŸlÄ± ve <strong>newpost.html</strong> ÅŸablonunu dÃ¶ndÃ¼ren bir fonksiyon oluÅŸturun. Daha sonra buradaki Ã¶rnek ile kÄ±yaslayÄ±n. Hata yapmaktan korkmayÄ±n.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="nd">@app.route</span><span class="p">(</span><span class="s">'/yaziekle'</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">newpost</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s">'newpost.html'</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Son eklediÄŸimiz fonksiyon da bÃ¶yle gÃ¶rÃ¼nÃ¼yor olmalÄ±. Åimdi yaptÄ±ÄŸÄ±mÄ±z tÃ¼m deÄŸiÅŸikliklerden sonra <em>app.py</em> dosyamÄ±z nasÄ±l gÃ¶rÃ¼nÃ¼yor ona bir bakalÄ±m, eÄŸer aralarda bir ÅŸeyleri kaÃ§Ä±rmÄ±ÅŸsanÄ±z dÃ¼zenleme ÅŸansÄ±nÄ±z olsun.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
</pre></td><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span><span class="p">,</span> <span class="n">render_template</span>
<span class="kn">from</span> <span class="nn">peewee</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>
<span class="n">database</span> <span class="o">=</span> <span class="n">SqliteDatabase</span><span class="p">(</span><span class="s">'database.sql'</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Editor</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">database</span> <span class="o">=</span> <span class="n">database</span>

    <span class="n">username</span> <span class="o">=</span> <span class="n">TextField</span><span class="p">()</span>
    <span class="n">password</span> <span class="o">=</span> <span class="n">TextField</span><span class="p">()</span>


<span class="k">class</span> <span class="nc">Post</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">database</span> <span class="o">=</span> <span class="n">database</span>

    <span class="n">title</span> <span class="o">=</span> <span class="n">TextField</span><span class="p">()</span>
    <span class="n">content</span> <span class="o">=</span> <span class="n">TextField</span><span class="p">()</span>


<span class="nd">@app.route</span><span class="p">(</span><span class="s">'/'</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">index</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s">'index.html'</span><span class="p">)</span>


<span class="nd">@app.route</span><span class="p">(</span><span class="s">'/girisyap'</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">login</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s">'login.html'</span><span class="p">)</span>


<span class="nd">@app.route</span><span class="p">(</span><span class="s">'/yaziekle'</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">newpost</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s">'newpost.html'</span><span class="p">)</span>


<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">"__main__"</span><span class="p">:</span>
    <span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">debug</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>SÄ±rasÄ±yla import (iÃ§e aktarma) iÅŸlemlerimizi yaptÄ±k, tanÄ±mlamalarÄ±mÄ±zÄ± yaptÄ±k, modellerimizi hazÄ±rladÄ±k, fonksiyonlarÄ±mÄ±zÄ± hazÄ±rladÄ±k ve son olarak projemizi Ã§alÄ±ÅŸtÄ±rma komutumuzu yazdÄ±k.</p>

<h2 id="giriÅŸÃ§Ä±kÄ±ÅŸ-yapÄ±sÄ±nÄ±-hazÄ±rlayalÄ±m">GiriÅŸ/Ã‡Ä±kÄ±ÅŸ YapÄ±sÄ±nÄ± HazÄ±rlayalÄ±m</h2>

<p>Her ÅŸey Ã§ok gÃ¼zel gÃ¶rÃ¼nÃ¼yor, bir /yaziekle sayfamÄ±z var. Ama bu sayfaya sadece siteye giriÅŸ yapmÄ±ÅŸ editÃ¶rlerin eriÅŸebilmesi gerekiyor. Yoksa siteye giriÅŸ yapan tÃ¼m ziyaretÃ§iler yeni yazÄ± ekleyebilir ve bunu pek istemeyiz. AslÄ±nda belki isteyebiliriz, ziyaretÃ§i defteri yapmÄ±ÅŸ oluruz. Ama bu seferlik istemediÄŸimizi varsayarak ilerleyelim. Bunun iÃ§in Ã¶ncelikle Ã¼ye giriÅŸi sayfamÄ±zÄ± hazÄ±rlamamÄ±z gerekiyor. Zaten <em>login</em> fonksiyonumuz mevcut onun Ã¼zerinde Ã§alÄ±ÅŸabiliriz. Ama bundan Ã¶nce http metodlarÄ± hakkÄ±nda biraz bilgi sahibi olmamÄ±z gerekiyor. AÃ§Ä±klayacaÄŸÄ±m iki farklÄ± metod var ve bu metodlarÄ± kabaca inceleyeceÄŸiz.</p>

<p><strong>GET</strong><br />
GET metodumuz aslÄ±nda veri isterken kullanÄ±lÄ±r. Burada referans noktamÄ±z ziyaretÃ§i. Yani ziyaretÃ§i bizden veri isterken GET metodunu kullanacaktÄ±r. Veri istemekten kastÄ±mÄ±z Ahmetâ€™in bakkaldan yoÄŸurt istemesi gibi ziyaretÃ§inin html verisini istemesidir. GET kelime anlamÄ± olarak da almak, edinmek anlamlarÄ±na gelir.</p>

<p><strong>POST</strong><br />
POST metodumuz ise yine ziyaretÃ§imizin bizden veri istemek yerine bize veri gÃ¶ndermesi iÃ§in kullanÄ±lÄ±r. Bu sefer veriyi yakalayan biz, gÃ¶nderen ziyaretÃ§i olacaktÄ±r. POST da kelime anlamÄ± olarak posta, mektup anlamlarÄ±na gelir.</p>

<p>Biz aslÄ±nda fonksiyonlarÄ±mÄ±zÄ± oluÅŸtururken fonksiyonlarÄ±n kabul edeceÄŸi HTTP metodlarÄ±nÄ± da belirtiyoruz. decaratÃ¶re nasÄ±l baÄŸlantÄ± noktasÄ±nÄ± belirtiyorsak <strong>methods=[â€˜METOD1â€™, â€˜METOD2â€™]</strong> diyerek fonksiyonun kabul edeceÄŸi metodlarÄ± da belirtebiliyoruz. EÄŸer belirtmezsek Flask bizim iÃ§in sadece <em>GET</em> metodunu kabul edecek ÅŸekilde dÃ¼zenliyor fonksiyonlarÄ±mÄ±zÄ±. Ancak biz <em>login</em> metodumuzda bir form aracÄ±lÄ±ÄŸÄ±yla veri almak istiyoruz ziyaretÃ§iden. O yÃ¼zden POST metodunu da kabul etmemiz gerekiyor. O zaman hadi decaratÃ¶rÃ¼mÃ¼zÃ¼ dÃ¼zenleyelim ve son haline bir bakalÄ±m.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="nd">@app.route</span><span class="p">(</span><span class="s">'/girisyap'</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s">'GET'</span><span class="p">,</span> <span class="s">'POST'</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">login</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s">'login.html'</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Bu gÃ¶rÃ¼nÃ¼mÃ¼ aldÄ± fonksiyonumuz ve onun decaratÃ¶rÃ¼. POST metodunu formdan gelen verileri kabul edebilmek iÃ§in ekledik ama aynÄ± zamanda kullanÄ±cÄ± veri gÃ¶nderebilmek iÃ§in formu gÃ¶rebilmeli. Yani bize veriyi <em>POST</em> etmeden Ã¶nce form yapÄ±sÄ±nÄ± <em>GET</em> edebilmeli. Biliyorum plaza aÄŸzÄ± gibi oldu, ama yapacak bir ÅŸey yok :(. MantÄ±k ÅŸÃ¶yle iÅŸliyor; ziyaretÃ§i /girisyap sayfasÄ±na girer ve Ã¶nÃ¼ne bir form Ã§Ä±kar (burada GET metodu ile bizden veri aldÄ±), formu doldurur ve gÃ¶nder butonuna basar (burada da POST metodu ile veriyi bize gÃ¶nderdi).</p>

<p>EÄŸer bÃ¶yle bir durum varsa biz bir fonksiyonda birden fazla iÅŸ yapacaÄŸÄ±z demektir. EÄŸer form verisi geldiyse (yani method POST ise) giriÅŸ iÅŸlemlerini yapacaÄŸÄ±z ve parolayÄ± kontrol edeceÄŸiz, eÄŸer bÃ¶yle bir durum yoksa ziyaretÃ§i formu gÃ¶rmek istemiÅŸ demektir o zaman da form gÃ¶stereceÄŸiz. BunlarÄ± yaparken Flaskâ€™Ä±n request sÄ±nÄ±fÄ±nÄ± kullanacaÄŸÄ±z. O yÃ¼zden onu da importlarÄ±mÄ±z arasÄ±na ekleyelim. Ancak onunla beraber farklÄ± yapÄ±lar da kullanacaÄŸÄ±z. O yÃ¼zden farklÄ± sÄ±nÄ±flarÄ±/fonksiyonlarÄ± da ekliyoruz, ilerleyen zamanlarda onlarÄ± da aÃ§Ä±klayacaÄŸÄ±m.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="p">(</span><span class="n">Flask</span><span class="p">,</span> <span class="n">render_template</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span>
                   <span class="n">redirect</span><span class="p">,</span> <span class="n">url_for</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Son olarak durum bÃ¶yle. Åimdi <em>login</em> fonksiyonumuzu yazalÄ±m. Ben hazÄ±rlayÄ±p geliyorum, Ã¼zerinde konuÅŸalÄ±m.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="nd">@app.route</span><span class="p">(</span><span class="s">'/girisyap'</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s">'GET'</span><span class="p">,</span> <span class="s">'POST'</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">login</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s">'POST'</span><span class="p">:</span>
        <span class="n">username</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s">'username'</span><span class="p">]</span>
        <span class="n">password</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s">'password'</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s">'index'</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s">'login.html'</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Son durumu bu olan login fonksiyonumuza neler eklemiÅŸiz bir bakalÄ±m. AÃ§Ä±klamaya geÃ§meden hemen Ã¶nce Python hakkÄ±nda bir bilgi vermek istiyorum. Her fonksiyon bir tane deÄŸer dÃ¶ndÃ¼rebilir. Yani bir ÅŸey aynÄ± zamanda hem elma hem de armut olamaz. O yÃ¼zden eÄŸer bir fonksiyon oluÅŸturup iÃ§in birden fazla return ifadesi yazÄ±p Ã§alÄ±ÅŸtÄ±rÄ±rsanÄ±z ilk deÄŸerin dÃ¶ndÃ¼rÃ¼ldÃ¼ÄŸÃ¼nÃ¼, sonraki deÄŸerlerin ise Ã§alÄ±ÅŸmadÄ±ÄŸÄ±nÄ± gÃ¶receksiniz. Ã‡Ã¼nkÃ¼ Python dÃ¶ndÃ¼recek bir deÄŸer bulduÄŸu zaman o fonksiyon ile iÅŸi bittiÄŸini dÃ¼ÅŸÃ¼nÃ¼r ve sonrakilere bakmaz bile. Bu aklÄ±mÄ±zda kalsÄ±n, Ã§Ã¼nkÃ¼ hazÄ±rladÄ±ÄŸÄ±mÄ±z fonksiyonda da bÃ¶yle bir durum sÃ¶z konusu.</p>

<p>Hadi ÅŸimdi inceleyelim. 3. satÄ±rda bir ÅŸart koÅŸmuÅŸuz. ÅartÄ±mÄ±z ziyaretÃ§imizin <em>POST</em> metodunu kullanmÄ±ÅŸ olmasÄ±. EÄŸer metod POST ise bu ÅŸartÄ±mÄ±zdaki kodlarÄ±mÄ±z Ã§alÄ±ÅŸacak. Ama eÄŸer metodumuz POST deÄŸilse -ki bu durumda metod kesinlikle GETâ€™tir. Ã‡Ã¼nkÃ¼ fonksiyonumuz diÄŸer metodlarÄ± ÅŸuanda kabul etmiyor, listeye eklemedik.- 9. satÄ±r Ã§alÄ±ÅŸacak ve ziyaretÃ§iye form bilgisini dÃ¶ndÃ¼recek.</p>

<p>VarsayalÄ±m ki kullanÄ±cÄ± POST metodunu kullandÄ±, yani formu doldurup butona bastÄ± ve bize veri postaladÄ±, gÃ¶nderdi. Åimdi ÅŸartÄ±mÄ±zÄ±n iÃ§indeki kodlarÄ±mÄ±z Ã§alÄ±ÅŸacak, 4. ve 5. satÄ±rlarda kullanÄ±cÄ±nÄ±n doldurduÄŸu formdaki <em>â€˜usernameâ€™</em> ve <em>â€˜passwordâ€™</em> verilerini aldÄ±k ve yine aynÄ± isimlerdeki deÄŸiÅŸkenlere atadÄ±k. Parola karÅŸÄ±laÅŸtÄ±rmasÄ± yaparken bunlara ihtiyacÄ±mÄ±z olacak. Daha sonra ise ilk kez gÃ¶rdÃ¼ÄŸÃ¼nÃ¼z fonksiyonlarÄ± kullanarak bir ÅŸeyler yaptÄ±k. AslÄ±nda burada yaptÄ±ÄŸÄ±mÄ±z ÅŸey Ã§ok basit, <em>redirect</em> fonksiyonunu ziyaretÃ§iyi yÃ¶nlendirmek istediÄŸimiz zaman kullanÄ±yoruz. Ancak bu fonksiyon tam bir adres istiyor yÃ¶nlendirmek iÃ§in, yani argÃ¼man olarak bir URL istiyor. Biz de bu URLâ€™yi <em>url_for</em> fonksiyonu ile oluÅŸturuyoruz. Bu fonksiyon da metin olarak yÃ¶nlendirme yapmak istediÄŸimiz fonksiyonun adÄ±nÄ± alÄ±yor ve onun iÃ§in bir URL oluÅŸturup dÃ¶ndÃ¼rÃ¼yor. Yani orada zincirleme fonksiyon tamlamasÄ± gibi bir ÅŸey var ğŸ™‚.</p>

<p>Åimdi elimizde kullanÄ±cÄ± adÄ± ve parola verileri de olduÄŸuna gÃ¶re kullanÄ±cÄ±yÄ± giriÅŸ yaptÄ±rabiliriz. Bunun iÃ§in yine Flask sÄ±nÄ±fÄ± olan <strong>session</strong>â€˜u iÃ§eri aktarmamÄ±z gerekiyor.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="p">(</span><span class="n">Flask</span><span class="p">,</span> <span class="n">render_template</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span>
                   <span class="n">redirect</span><span class="p">,</span> <span class="n">url_for</span><span class="p">,</span> <span class="n">session</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Sessionâ€™lar nedir? Sessionlar sunucu tarafÄ±nda tutulan deÄŸerlerdir. HTTP methodlarÄ±ndan bahsetmiÅŸtik. Farkettiyseniz her seferinde bir istek-cevap mantÄ±ÄŸÄ± ile Ã§alÄ±ÅŸÄ±yor. Yani bir sÃ¼reklilik yok. Ä°stek gÃ¶nderiliyor, cevap alÄ±nÄ±yor ve iletiÅŸim kesiliyor. Her istek iÃ§in yeniden iletiÅŸim kuruluyor. Bu yÃ¼zden bazÄ± verileri bizim farklÄ± yÃ¶ntemler ile tutmamÄ±z gerekiyor. Sessionlar da bu yÃ¶ntemlerden biri. SessionlarÄ±n sunucu tarafÄ±nda tutuluyor olmasÄ± da cookilerden en bÃ¼yÃ¼k farkÄ±dÄ±r. Cookiler client tarafÄ±nda, yani ziyaretÃ§inin tarayÄ±cÄ±sÄ±nda tutulur ve deÄŸiÅŸtirilebilirlerdir. GÃ¼venlik Ã¶nlemi olarak deÄŸiÅŸtirilebilir bir ÅŸey kullanmak Ã§ok da mantÄ±klÄ± deÄŸil gibi. AynÄ± zamanda sessionlar ÅŸifrelenir, bu ÅŸifrelemede sizin belirlediÄŸiniz bir metin kullanÄ±lÄ±r. O yÃ¼zden gelin Ã¶ncelikle ÅŸifreleme metinimizi tanÄ±mlayalÄ±m. UnutmamanÄ±z gereken ÅŸeylerden biri de bu metinin gizli kalmasÄ± gerektiÄŸi ve olabildiÄŸince karmaÅŸÄ±k olmasÄ± gerekiyor.</p>

<p><em>app.py</em> dosyamÄ±zÄ± aÃ§alÄ±m ve app deÄŸiÅŸkenini tanÄ±mladÄ±ktan sonra onun <strong>secret_key</strong> deÄŸerini deÄŸiÅŸtirelim. Siz kendinize Ã¶zel bir metin belirlemeyi unutmayÄ±n ve kimseyle paylaÅŸmayÄ±n.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="p">(</span><span class="n">Flask</span><span class="p">,</span> <span class="n">render_template</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span>
                   <span class="n">redirect</span><span class="p">,</span> <span class="n">url_for</span><span class="p">,</span> <span class="n">session</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">peewee</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>
<span class="n">app</span><span class="o">.</span><span class="n">secret_key</span> <span class="o">=</span> <span class="s">'Ã§ok_gizli_ve_karmaÅŸÄ±k_metin'</span>
<span class="n">database</span> <span class="o">=</span> <span class="n">SqliteDatabase</span><span class="p">(</span><span class="s">'database.sql'</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>SonuÃ§ olarak <em>app.py</em> dosyamÄ±zÄ±n baÅŸÄ± buna benzer gÃ¶rÃ¼nÃ¼yor olmalÄ±. Åimdi tekrar <em>login</em> fonksiyonumuza dÃ¶nebiliriz, birazdan bu session konusuna tekrar geleceÄŸiz. Bu sadece Ã¶n hazÄ±rlÄ±ktÄ±.</p>

<p>Åimdi kullanÄ±cÄ±nÄ±n girdiÄŸi username ve password verilerini kullanarak bilgileri doÄŸrulamamÄ±z gerekiyor. Peki bunu nasÄ±l yapacaÄŸÄ±z? MantÄ±ÄŸÄ±mÄ±z basit, kullanÄ±cÄ±nÄ±n girdiÄŸi kullanÄ±cÄ± adÄ±na sahip satÄ±rÄ± veritabanÄ±mÄ±zdaki <em>editor</em> tablosundan Ã§ekeceÄŸiz ve yine kullanÄ±cÄ±nÄ±n girdiÄŸi parolanÄ±n ÅŸifrelenmiÅŸ hali ile bu satÄ±rdaki kayÄ±tlÄ± ÅŸifrelenmiÅŸ parolanÄ±n aynÄ± olup olmadÄ±ÄŸÄ±nÄ± kontrol edeceÄŸiz. Bu parola karÅŸÄ±laÅŸtÄ±rmasÄ± iÃ§in yine <em>werkzeug</em> kÃ¼tÃ¼phanesinden yararlanacaÄŸÄ±z o yÃ¼zden ilgili satÄ±rÄ± sayfamÄ±zÄ±n baÅŸÄ±ndaki importâ€™larÄ±n arasÄ±na ekleyelim.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">werkzeug.security</span> <span class="kn">import</span> <span class="n">check_password_hash</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Bu fonksiyon dÃ¼z parolayla hashlenmiÅŸ (saklanmÄ±ÅŸ) parolayÄ± kÄ±yaslamak iÃ§in kullanacaÄŸÄ±mÄ±z fonksiyon. Bu da bir kenarda dursun, az sonra kullanacaÄŸÄ±z kendisini. Ã–nce girilen kullanÄ±cÄ± adÄ±nÄ± iÃ§inde barÄ±ndÄ±ran satÄ±rÄ± veritabanÄ±ndan Ã§ekmeliyiz.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="n">database_record</span> <span class="o">=</span> <span class="n">Editor</span><span class="o">.</span><span class="n">select</span><span class="p">()</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">Editor</span><span class="o">.</span><span class="n">username</span> <span class="o">==</span> <span class="n">username</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">hashed_password</span> <span class="o">=</span> <span class="n">database_record</span><span class="o">.</span><span class="n">password</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Bu kod bloÄŸuyla veritabanÄ±ndaki verilerin iÃ§inde <em>â€˜usernameâ€™</em> sÃ¼tunu kullanÄ±cÄ±nÄ±n girdiÄŸiyle aynÄ± olan satÄ±rlarÄ± Ã§ektik (Ã¶yle bir satÄ±r veritabanÄ±nda bir tane olsa bile dÃ¶nen veri Ã§oÄŸul olacaktÄ±r. O yÃ¼zden dÃ¶nen verinin de ilkini aldÄ±k.) ve o satÄ±rÄ±n <em>â€˜passwordâ€™</em> deÄŸerini alÄ±p bir deÄŸiÅŸkene atadÄ±k. Åimdi fonksiyonumuzun iÃ§inde geriye kalan kÄ±sÄ±mlarÄ± da hazÄ±rlayÄ±p Ã¼zerine konuÅŸalÄ±m.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="rouge-code"><pre><span class="nd">@app.route</span><span class="p">(</span><span class="s">'/girisyap'</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s">'GET'</span><span class="p">,</span> <span class="s">'POST'</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">login</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s">'POST'</span><span class="p">:</span>
        <span class="n">username</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s">'username'</span><span class="p">]</span>
        <span class="n">password</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s">'password'</span><span class="p">]</span>

        <span class="n">database_record</span> <span class="o">=</span> <span class="n">Editor</span><span class="o">.</span><span class="n">select</span><span class="p">()</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">Editor</span><span class="o">.</span><span class="n">username</span> <span class="o">==</span> <span class="n">username</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">hashed_password</span> <span class="o">=</span> <span class="n">database_record</span><span class="o">.</span><span class="n">password</span>

        <span class="k">if</span> <span class="n">check_password_hash</span><span class="p">(</span><span class="n">encrypted_password</span><span class="p">,</span> <span class="n">password</span><span class="p">):</span>
            <span class="n">session</span><span class="p">[</span><span class="s">'username'</span><span class="p">]</span> <span class="o">=</span> <span class="n">username</span>
            <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s">'index'</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s">'login'</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s">'login.html'</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Burada Ã¶ncelikle 10. satÄ±ra bir koÅŸul bloÄŸu ekledik. Burada kullanÄ±cÄ±nÄ±n girdiÄŸi parola ile veritabanÄ±nda kayÄ±tlÄ± olan ÅŸifrelenmiÅŸ parolasÄ±nÄ± karÅŸÄ±laÅŸtÄ±rdÄ±k. EÄŸer doÄŸruysa 11. satÄ±rda sessionlara kullanÄ±cÄ±nÄ±n kullanÄ±cÄ± adÄ±nÄ± ekledik. GiriÅŸ doÄŸrulamasÄ± yaparken yine sessionlar Ã¼zerinde kontrol yapacaÄŸÄ±z. 12. satÄ±rda ise giriÅŸ yapmÄ±ÅŸ kullanÄ±cÄ±yÄ± ana sayfaya yÃ¶nlendirdik Ã§Ã¼nkÃ¼ artÄ±k burasÄ± ile iÅŸi kalmadÄ±. 14. satÄ±rda da kullanÄ±cÄ± adÄ± ve parolasÄ± eÅŸleÅŸmeyen kullanÄ±cÄ±yÄ± tekrar giriÅŸ yapma sayfasÄ±na yÃ¶nlendirdik.</p>

<p>Ancak burada ÅŸÃ¶yle bir durumu kaÃ§Ä±rdÄ±k, giriÅŸ yapmÄ±ÅŸ kullanÄ±cÄ±nÄ±n artÄ±k giriÅŸ yapma sayfasÄ±na eriÅŸememesi lazÄ±m, Ã§Ã¼nkÃ¼ bir iÅŸi yok. KullanÄ±cÄ±nÄ±n giriÅŸ yapÄ±p yapmadÄ±ÄŸÄ±nÄ± sessionlar Ã¼zerinden kontrol edeceÄŸiz demiÅŸtik. EÄŸer â€˜usernameâ€™ bilgisi sessionlarda yoksa kullanÄ±cÄ± giriÅŸ yapmamÄ±ÅŸ demektir, varsa giriÅŸ yapmÄ±ÅŸ demektir. Hadi dÃ¼zenleyelim ve giriÅŸ yapmÄ±ÅŸ kullanÄ±cÄ±larÄ± ana sayfaya yÃ¶nlendirelim.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td><td class="rouge-code"><pre><span class="nd">@app.route</span><span class="p">(</span><span class="s">'/girisyap'</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s">'GET'</span><span class="p">,</span> <span class="s">'POST'</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">login</span><span class="p">():</span>
    <span class="k">if</span> <span class="s">'username'</span> <span class="ow">in</span> <span class="n">session</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s">'index'</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s">'POST'</span><span class="p">:</span>
        <span class="n">username</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s">'username'</span><span class="p">]</span>
        <span class="n">password</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s">'password'</span><span class="p">]</span>

        <span class="n">database_record</span> <span class="o">=</span> <span class="n">Editor</span><span class="o">.</span><span class="n">select</span><span class="p">()</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">Editor</span><span class="o">.</span><span class="n">username</span> <span class="o">==</span> <span class="n">username</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">hashed_password</span> <span class="o">=</span> <span class="n">database_record</span><span class="o">.</span><span class="n">password</span>

        <span class="k">if</span> <span class="n">check_password_hash</span><span class="p">(</span><span class="n">encrypted_password</span><span class="p">,</span> <span class="n">password</span><span class="p">):</span>
            <span class="n">session</span><span class="p">[</span><span class="s">'username'</span><span class="p">]</span> <span class="o">=</span> <span class="n">username</span>
            <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s">'index'</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s">'login'</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s">'login.html'</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Yeni eklediÄŸimiz 3. ve 4. satÄ±rda kullanÄ±cÄ± giriÅŸ yapmÄ±ÅŸsa onu direkt olarak ana sayfaya yÃ¶nlendirdik. GiriÅŸ yapmÄ±ÅŸ her kullanÄ±cÄ±nÄ±n Ã§Ä±kÄ±ÅŸ da yapabiliyor olmasÄ± gerekiyor. O yÃ¼zden baÄŸlantÄ± noktasÄ± â€˜/cikisâ€™ olan yeni bir fonksiyon oluÅŸturalÄ±m. Fonksiyonumuzun adÄ± da logout olsun. Bu fonksiyonun yapacaÄŸÄ± ÅŸey Ã§ok basit, eÄŸer kullanÄ±cÄ± giriÅŸ yapmÄ±ÅŸsa (yani sessionlarda â€˜usernameâ€™ verisi varsa) sessiondan o veriyi silmeli ve kullanÄ±cÄ±yÄ± ana sayfaya yÃ¶nlendirmeli. EÄŸer bu veri yoksa kullanÄ±cÄ±yÄ± giriÅŸ yapma sayfasÄ±na yÃ¶nlendirmeli. Ã‡Ã¼nkÃ¼ giriÅŸ yapmadan Ã§Ä±kÄ±ÅŸ yapÄ±lamaz. Hadi bunu yazmaya Ã§alÄ±ÅŸÄ±n, yazabiliyor olduÄŸunuzu biliyorum. Ben yine de Ã¶rneÄŸi hemen alt satÄ±ra bÄ±rakÄ±yorum.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="nd">@app.route</span><span class="p">(</span><span class="s">'/cikis'</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">logout</span><span class="p">():</span>
    <span class="k">if</span> <span class="s">'username'</span> <span class="ow">in</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">session</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s">'username'</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s">'index'</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s">'login'</span><span class="p">))</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>TÃ¼m fonksiyon bundan ibaret. Herhangi bir ÅŸablon dÃ¶ndÃ¼rmesine ya da veri girilmesine gerek yok. YaptÄ±ÄŸÄ± iÅŸ Ã§ok basit. EÄŸer â€˜usernameâ€™ verisi sessionlarda varsa onu siliyor (yani kullanÄ±cÄ± Ã§Ä±kÄ±ÅŸ yapmÄ±ÅŸ oluyor) ve kullanÄ±cÄ±yÄ± ana sayfaya yÃ¶nlendiriyor. Aksi durumda da zaten giriÅŸ yapmÄ±ÅŸ olmadÄ±ÄŸÄ± iÃ§in Ã§Ä±kÄ±ÅŸ da yapamÄ±yor ve giriÅŸ sayfasÄ±na yÃ¶nlendiriyor.</p>

<p>AslÄ±nda ÅŸu anda giriÅŸ/Ã§Ä±kÄ±ÅŸ yapÄ±sÄ±nÄ± oluÅŸturduk ama dÃ¼zenlememiz gereken ufak bir nokta daha kaldÄ±. HatÄ±rlarsanÄ±z base.html dosyamÄ±zda <em>giriÅŸ yap</em> diye bir alan oluÅŸturmuÅŸtuk. ArtÄ±k kullanÄ±cÄ±larÄ±mÄ±z giriÅŸ yapabiliyor, ama giriÅŸ yapan kullanÄ±cÄ±lar da aynÄ± yazÄ±yÄ± gÃ¶rÃ¼yor. GiriÅŸ yapan biri daha ne kadar/nereye kadar giriÅŸ yapabilir ki? :/. Onu giriÅŸ yapmÄ±ÅŸ kullanÄ±cÄ±lar iÃ§in <em>Ã§Ä±kÄ±ÅŸ yap</em> olarak deÄŸiÅŸtirmeliyiz ve baÄŸlantÄ± adresini de /cikis olarak ayarlamalÄ±yÄ±z. Bunu yapmak da aynÄ± mantÄ±ÄŸa dayanÄ±yor. SessionlarÄ± kontrol edeceÄŸiz. Bu iÅŸlemi Jinja2 sayesinde html dosyalarÄ±nÄ±n iÃ§inde yapabiliyoruz. Hemen base.html dosyasÄ±nÄ± dÃ¼zenleyelim.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre></td><td class="rouge-code"><pre><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;title&gt;</span>Benim Blogum - {% block title %}{% endblock %}<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">type=</span><span class="s">"text/css"</span> <span class="na">href=</span><span class="s">"{{ url_for('static', filename='css/style.css') }}"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
<span class="nt">&lt;header&gt;</span>
    <span class="nt">&lt;main&gt;</span>Benim Blogum<span class="nt">&lt;/main&gt;</span>
<span class="nt">&lt;/header&gt;</span>
<span class="nt">&lt;main&gt;</span>
    <span class="nt">&lt;nav&gt;</span>
        {% if 'username' in session %}
            <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"/cikis"</span><span class="nt">&gt;</span>Ã§Ä±kÄ±ÅŸ yap<span class="nt">&lt;/a&gt;</span>
        {% else %}
            <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"/girisyap"</span><span class="nt">&gt;</span>giriÅŸ yap<span class="nt">&lt;/a&gt;</span>
        {% endif %}
    <span class="nt">&lt;/nav&gt;</span>
    <span class="nt">&lt;content&gt;</span>
        {% block main %}{% endblock %}
    <span class="nt">&lt;/content&gt;</span>
<span class="nt">&lt;/main&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p><em>base.html</em> dosyasÄ±nÄ± bu ÅŸekilde dÃ¼zenledim. GÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi html dosyalarÄ±nÄ±n iÃ§inde de koÅŸul bloklarÄ± oluÅŸturabiliyoruz. SÃ¶zdizimi biraz farklÄ± oluyor ancak yapabiliyoruz. Bu sayede artÄ±k giriÅŸ yapmÄ±ÅŸ kullanÄ±cÄ±lar <em>giriÅŸ yap</em> butonu yerine <em>Ã§Ä±kÄ±ÅŸ yap</em> butonunu gÃ¶rÃ¼yor ve Ã§Ä±kÄ±ÅŸ yapabiliyor. Åimdi pipenv ile projenizi baÅŸlatÄ±p test edebilirsiniz. Bununla oynamak Ã§ok zevkli ^^.</p>

<h2 id="yazÄ±-ekleme-sayfasÄ±nÄ±-ayarlayalÄ±m">YazÄ± Ekleme SayfasÄ±nÄ± AyarlayalÄ±m</h2>

<p><em>newpost</em> adÄ±nda bir fonksiyonumuz daha var oluÅŸturduÄŸumuz. Hadi ÅŸimdi bu fonksiyonumuzu hazÄ±rlayalÄ±m ve editÃ¶rlerimiz yeni yazÄ±lar eklemeye baÅŸlayabilsin. Ama Ã¶nce bir gÃ¼venlik Ã¶nlemi hazÄ±rlamamÄ±z gerekiyor, Ã§Ã¼nkÃ¼ giriÅŸ yapmamÄ±ÅŸ kullanÄ±cÄ±lar bu sayfaya eriÅŸememeli. Fonksiyonumuzun iÃ§inde Ã¶ncelikle session kontrolu yapalÄ±m eÄŸer giriÅŸ yapÄ±lmamÄ±ÅŸsa giriÅŸ yapma sayfasÄ±na yÃ¶nlendirelim, giriÅŸ yapÄ±lmÄ±ÅŸsa yapacaklarÄ±mÄ±za sonra geleceÄŸiz.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="nd">@app.route</span><span class="p">(</span><span class="s">'/yaziekle'</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">newpost</span><span class="p">():</span>
    <span class="k">if</span> <span class="s">'username'</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">session</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s">'login'</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s">'newpost.html'</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Åu anda fonksiyonumuzun durumu bu. YaptÄ±ÄŸÄ±mÄ±z ÅŸey ise eÄŸer kullanÄ±cÄ± giriÅŸ yapmamÄ±ÅŸsa ana sayfaya yÃ¶nlendirmek, eÄŸer giriÅŸ yapmÄ±ÅŸsa ise koÅŸul bloÄŸumuz Ã§alÄ±ÅŸmayacaÄŸÄ± iÃ§in kullanÄ±cÄ± <em>newpost.html</em> ÅŸablonumuzu gÃ¶recek. Åimdi ise formâ€™dan gelen verileri yakalamamÄ±z gerekiyor. HatÄ±rlarsanÄ±z formâ€™dan verileri yakalarken <em>POST</em> metodunu kullanÄ±yorduk. Bu da demek oluyor ki bu fonksiyonumuzun kabul ettiÄŸi metodlarÄ± da deÄŸiÅŸtirmeliyiz.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nd">@app.route</span><span class="p">(</span><span class="s">'/yaziekle'</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s">'GET'</span><span class="p">,</span> <span class="s">'POST'</span><span class="p">])</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Fonksiyonumuzun decaratÃ¶r satÄ±rÄ±nÄ± bu ÅŸekilde dÃ¼zenlememiz yeterli. Åimdi giriÅŸ kontrolÃ¼nden sonra bir de methodu kontrol edelim ve method POST ise formdan gelen verileri yine aynÄ± isimdeki deÄŸiÅŸkenlere atayalÄ±m.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s">'POST'</span><span class="p">:</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s">'title'</span><span class="p">]</span>
        <span class="n">content</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s">'content'</span><span class="p">]</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Åimdi ise elimizdeki bu verileri kullanarak veritabanÄ±na yeni yazÄ± kaydÄ± eklememiz gerekiyor. Benzer bir iÅŸlemi ilk editÃ¶r kaydÄ±nÄ± oluÅŸtururken yapmÄ±ÅŸtÄ±k, Ã§ok yabancÄ± olduÄŸumuz bir konu deÄŸil yani.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="n">Post</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span> <span class="n">content</span><span class="o">=</span><span class="n">content</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Diyerek kullanÄ±cÄ±dan aldÄ±ÄŸÄ±mÄ±z title ve content bilgileriyle bir veritabanÄ± kaydÄ± oluÅŸturduk. Bu iÅŸlemden sonra kullanÄ±cÄ±yÄ± tekrar ana sayfaya yÃ¶nlendirebiliriz. Fonksiyonumuz son olarak aÅŸaÄŸÄ±daki gibi gÃ¶rÃ¼nÃ¼yor olacak.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="nd">@app.route</span><span class="p">(</span><span class="s">'/yaziekle'</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s">'GET'</span><span class="p">,</span> <span class="s">'POST'</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">newpost</span><span class="p">():</span>
    <span class="k">if</span> <span class="s">'username'</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">session</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s">'login'</span><span class="p">))</span>

    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s">'POST'</span><span class="p">:</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s">'title'</span><span class="p">]</span>
        <span class="n">content</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s">'content'</span><span class="p">]</span>

        <span class="n">Post</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span> <span class="n">content</span><span class="o">=</span><span class="n">content</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s">'index'</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s">'newpost.html'</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Åimdi de giriÅŸ yapmÄ±ÅŸ kullanÄ±cÄ±larÄ±n yazÄ± ekleme sayfasÄ±na eriÅŸebilmesi iÃ§in <em>base.html</em>â€˜deki nav etiketine bir ekleme daha yapalÄ±m ve bu sayfanÄ±n adresini verelim.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="nt">&lt;nav&gt;</span>
    {% if 'username' in session %}
        <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"/cikis"</span><span class="nt">&gt;</span>Ã§Ä±kÄ±ÅŸ yap<span class="nt">&lt;/a&gt;</span>
        <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"/yaziekle"</span><span class="nt">&gt;</span>yazÄ± ekle<span class="nt">&lt;/a&gt;</span>
    {% else %}
        <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"/girisyap"</span><span class="nt">&gt;</span>giriÅŸ yap<span class="nt">&lt;/a&gt;</span>
    {% endif %}
<span class="nt">&lt;/nav&gt;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>base.html dosyamÄ±zdaki <em>nav</em> etiketinin son durumu bÃ¶yle oldu. Son olarak hadi ilk yazÄ±mÄ±zÄ± ekleyelim. Ben kÄ±sacÄ±k bir teÅŸekkÃ¼r iÃ§eren bir yazÄ± ekleyeceÄŸim, siz de istediÄŸiniz herhangi bir konuda bir ÅŸeyler yazabilirsiniz. Neticede bu sizin blogunuz ğŸ™‚.</p>

<h2 id="ana-sayfayÄ±-dÃ¼zenleyelim">Ana SayfayÄ± DÃ¼zenleyelim</h2>

<p><em>index.html</em> (yani ana sayfa) ÅŸablonumuzu hazÄ±rlarken hatÄ±rlarsanÄ±z iki tane temsili yazÄ± eklemiÅŸtik. Åimdi o yazÄ±larÄ± temsili olmaktan Ã§Ä±karalÄ±m ve gerÃ§ek yazÄ±larÄ±mÄ±zÄ± ana sayfada gÃ¶stermeye baÅŸlayalÄ±m. Bunun iÃ§in Ã¶ncelikle <em>index</em> fonksiyonumuzda yazÄ±larÄ± listelememiz ve onu Jinja2â€™ye gÃ¶ndermemiz gerekiyor. Hadi Ã¶nce bunu Ã§Ã¶zelim.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="nd">@app.route</span><span class="p">(</span><span class="s">'/'</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">index</span><span class="p">():</span>
    <span class="n">posts</span> <span class="o">=</span> <span class="n">Post</span><span class="o">.</span><span class="n">select</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s">'index.html'</span><span class="p">,</span> <span class="n">posts</span><span class="o">=</span><span class="n">posts</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Burada 3. satÄ±rda tÃ¼m yazÄ±larÄ± veritabanÄ±ndan Ã§ektik ve 4. satÄ±rda da bu yazÄ±larÄ± Jinja2â€™ye gÃ¶nderdik. Ã‡Ã¼nkÃ¼ index.html ÅŸablonumuzda kullanacaÄŸÄ±z bunlarÄ±. Hatta madem verileri o tarafa gÃ¶nderme iÅŸlemini hallettik, biz de o tarafa geÃ§elim ve gelen verileri alÄ±p parÃ§alayalÄ±m. YapacaklarÄ±mÄ±zÄ± bi Ã¶zetleyeyim ÅŸimdiden. Gelen verileri alÄ±p bir dÃ¶ngÃ¼ oluÅŸturacaÄŸÄ±z. Ã‡Ã¼nkÃ¼ ÅŸuan bir tane olsa bile ileride yazÄ± ekledikÃ§e birden fazla yazÄ±mÄ±z olacak. Her yazÄ±yÄ± yazdÄ±rmak istiyoruz biz, dÃ¶ngÃ¼ kullanarak bunu yapabiliriz. Daha sonra dÃ¶ngÃ¼nÃ¼n iÃ§inde gelen her yazÄ± iÃ§in yeni bir alan oluÅŸturup onu yazdÄ±racaÄŸÄ±z. Åimdi dÃ¼zenleyelim ve Ã¼zerine konuÅŸalÄ±m.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="rouge-code"><pre>{% extends 'base.html' %}

{% block title %} Ana Sayfa {% endblock %}

{% block main %}

    {% for post in posts %}
        <span class="nt">&lt;div&gt;</span>
            <span class="nt">&lt;h2&gt;</span>{{ post.title }}<span class="nt">&lt;/h2&gt;</span>
            <span class="nt">&lt;p&gt;</span>{{ post.content|safe }}<span class="nt">&lt;/p&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
    {% endfor %}

{% endblock %}
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Farkettiyseniz Ã¶nceden iki Ã¼Ã§ tane HTML etiketi vardÄ±, ÅŸimdi neredeyse onlar da kalmadÄ± ğŸ™‚. Ã‡Ã¼nkÃ¼ bizim yerimize Jinja2 o etiketleri oluÅŸturuyor ve ziyaretÃ§inin isteÄŸine cevap vermek Ã¼zere Flaskâ€™a iletiyor. 7. satÄ±rda bir dÃ¶ngÃ¼ oluÅŸturduk ve 9-10. satÄ±rlarda bu dÃ¶ngÃ¼den gelen yazÄ±nÄ±n iÃ§eriÄŸini yazdÄ±rdÄ±k. Her ÅŸey bundan ibaret. Farkettiyseniz Jinja etiketlerini <em>{% %}</em> kullanarak yazÄ±yorduk ama 9-10. satÄ±rlarda <em>{{ }}</em> yapÄ±sÄ±nÄ± kullandÄ±k. Jinjaâ€™da bir ÅŸeyi ekrana yazdÄ±rmak istediÄŸimizde ikili sÃ¼slÃ¼ parantez kullanÄ±yoruz, eÄŸer kod yazÄ±yorsak sÃ¼slÃ¼ parantezlerle birlikte yÃ¼zde iÅŸareti kullanÄ±yoruz. Genelde tema motorlarÄ±nÄ±n Ã§oÄŸunda bu yapÄ± aynÄ±dÄ±r.</p>

<p>Ben hÄ±zÄ±mÄ± alamadÄ±m, bir yazÄ± daha ekleyip geliyorum.</p>

<p><img src="http://localhost:4000/assets/images/flask_document/son_hali.jpg" alt="" /></p>

<p>Åu anda blogumuzun son hali bÃ¶yle. Farkettiyseniz ikinci yazÄ± birinciden daha okunaklÄ±. Ã‡Ã¼nkÃ¼ yazÄ±larÄ±mÄ±z HTML kullanmamÄ±za izin veriyor ve ben de HTML ile birkaÃ§ satÄ±r boÅŸluk bÄ±rakarak paragraflara ayÄ±rdÄ±m. AklÄ±nÄ±zda olsun bu Ã¶zellik de.</p>

<p>Åuana kadar oluÅŸturuÄŸumuz tÃ¼m dosylarÄ±n Githubâ€™daki <strong><a href="https://github.com/bisguzar/flask-blog" target="_blank">bisguzar/flask-blog</a></strong> deposunda bulunduÄŸunu hatÄ±rlatmak istiyorum. Yani blogumuzun son hali orada da var ^^ Geri bildirimlerinizi iletmekten Ã§ekinmeyin.</p>

<h1 id="devam-etmek-iÌ‡steyenler-iÌ‡Ã§in">Devam Etmek Ä°steyenler Ä°Ã§in</h1>

<p>Bu yazÄ± Flask iÃ§in Ã§ok hÄ±zlandÄ±rÄ±lmÄ±ÅŸ bir yazÄ±ydÄ±. Ancak ona raÄŸmen session yÃ¶netimi, Jinja2 tema motoru, HTTP metodlarÄ±, ORM yapÄ±sÄ± gibi temel ve Ã¶nemli konular hakkÄ±nda fikir edindik. Ã–ÄŸrendik diyemiyorum Ã§Ã¼nkÃ¼ bu konular Ã§ok kapsamlÄ±, Ã¶ÄŸrenmek malesef Ã¶yle kolay deÄŸil. O yÃ¼zden ben de araÅŸtÄ±rmaya ve Ã¶ÄŸrenmeye devam etmek isteyenler iÃ§in buraya bazÄ± adresler bÄ±rakÄ±yorum. Kesinlikle kurcalamanÄ±zÄ± Ã¶neriyorum!</p>

<p>Not: TÃ¼m adresler Ä°ngilizce.</p>

<ul>
  <li>https://developer.mozilla.org/en-US/docs/Learn/Getting_started_with_the_web/How_the_Web_works</li>
  <li>https://docs.pipenv.org/</li>
  <li>http://flask.pocoo.org/</li>
  <li>http://jinja.pocoo.org/docs/2.10/</li>
  <li>http://docs.peewee-orm.com/en/latest/</li>
  <li>http://werkzeug.pocoo.org/</li>
  <li>https://www.tutorialspoint.com/http/http_methods.htm</li>
</ul>

<div class="footnotes">
  <ol>
    <li id="fn:1">
      <p>Bu tabir biraz garip. YabancÄ±larÄ±n â€˜runâ€™ etmek tabirini biz ayaÄŸa kaldÄ±rmak/koÅŸmak olarak kullanÄ±yoruz. Yani Ã§alÄ±ÅŸÄ±r duruma gelmesi.&nbsp;<a href="#fnref:1" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:2">
      <p>pipenv run python app.py&nbsp;<a href="#fnref:2" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>

                </div>
            </section>

            <!-- Email subscribe form at the bottom of the page -->
            

            <footer class="post-full-footer">
                <!-- Everything inside the #author tags pulls data from the author -->
                <!-- #author-->
                
                    
                        <section class="author-card">
                            
                                <img class="author-profile-image" src="/assets/images/bisguzar_pp.jpg" alt="bisguzar" />
                            
                            <section class="author-card-content">
                                <h4 class="author-card-name"><a href="/author/bisguzar">BuÄŸra Ä°ÅŸgÃ¼zar</a></h4>
                                
                                    <p>BuÄŸra, bilgisayar bilimlerine meraklÄ± bir saÄŸlÄ±kÃ§Ä±. KurcalamayÄ± ve kurcaladÄ±klarÄ±nÄ± anlatmayÄ± Ã§ok sever.</p>
                                
                            </section>
                        </section>
                        <div class="post-full-footer-right">
                            <a class="author-card-button" href="/author/bisguzar">Profiline Git</a>
                        </div>
                    
                
                <!-- /author  -->
            </footer>

            <!-- If you use Disqus comments, just uncomment this block.
            The only thing you need to change is "test-apkdzgmqhj" - which
            should be replaced with your own Disqus site-id. -->
            

        </article>

    </div>
</main>

<!-- Links to Previous/Next posts -->
<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
            
                
                
                
                
            

            <!-- If there's a next post, display it using the same markup included from - partials/post-card.hbs -->
            

            <!-- If there's a previous post, display it using the same markup included from - partials/post-card.hbs -->
            
                
    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/ampy-nedir">
                <div class="post-card-image" style="background-image: url(/assets/images/embedded.jpg)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/ampy-nedir">
                <header class="post-card-header">
                    
                        
                            
                                <span class="post-card-tags">Micropython</span>
                            
                        
                    

                    <h2 class="post-card-title">Adafruit MicroPython Tool - AMPY Nedir?</h2>
                </header>
                <section class="post-card-excerpt">
                    <p>Bir projede MicroPython kullanmaya karar verdikten ve biraz araÅŸtÄ±rma yaptÄ±ktan sonraki soru â€œÄ°yi, gÃ¼zel, hoÅŸ da biz kodlarÄ±mÄ±zÄ± nasÄ±l bu karta yÃ¼klÃ¼yoruzâ€ oluyor. En azÄ±ndan benim iÃ§in bu sÃ¼reÃ§ tam olarak bÃ¶yle ilerledi.</p>
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                        
                        <img class="author-profile-image" src="/assets/images/bisguzar_pp.jpg" alt="BuÄŸra Ä°ÅŸgÃ¼zar" />
                        
                        <span class="post-card-author">
                            <a href="/author/bisguzar/">BuÄŸra Ä°ÅŸgÃ¼zar</a>
                        </span>
                    
                
            </footer>
        </div>
    </article>

            

        </div>
    </div>
</aside>

<!-- Floating header which appears on-scroll, included from includes/floating-header.hbs -->
<div class="floating-header">
    <div class="floating-header-logo">
        <a href="http://localhost:4000/">
            
                <img src="/assets/images/bisguzar_b.png" alt="Bisguzar - Hobisel Pythoncu icon" />
            
        </a>
    </div>
    <span class="floating-header-divider">&mdash;</span>
    <div class="floating-header-title">Flask ile Blog YapalÄ±m</div>
    <div class="floating-header-share">
        <div class="floating-header-share-label">GÃ¶nderiyi PaylaÅŸ <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"/>
</svg>
</div>
        <a class="floating-header-share-tw" href="https://twitter.com/share?text=Flask+ile+Blog+Yapal%C4%B1m&amp;url=https://bisguzar.com/flask-ile-blog"
            onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>

        </a>
        <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=https://bisguzar.com/flask-ile-blog"
            onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>

        </a>
    </div>
    <progress class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>


<!-- /post -->

<!-- The #contentFor helper here will send everything inside it up to the matching #block helper found in default.hbs -->


        <!-- Previous/next page links - displayed on every page -->
        

        <!-- The footer at the very bottom of the screen -->
        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="http://localhost:4000/">Bisguzar - Hobisel Pythoncu</a> &copy; 2018</section>
                <section class="poweredby"><a href="https://jekyllrb.com/">Jekyll</a>'in <a href="https://github.com/jekyller/jasper2" target="_blank" rel="noopener">Jasper2</a> temasÄ± &
                    <a href="https://pages.github.com/" target="_blank" rel="noopener">GitHub Pages</a> kullanÄ±larak yayÄ±nlandÄ±.
                    </section>
                <nav class="site-footer-nav">
                    <a href="/">Son YazÄ±lar</a>
                    <a href="https://facebook.com/bisguzar" target="_blank" rel="noopener">Facebook</a>
                    <a href="https://twitter.com/bugraisguzar" target="_blank" rel="noopener">Twitter</a>
                    <a href="https://github.com/bisguzar" target="_blank" rel="noopener">Github</a>
                </nav>
            </div>
        </footer>

    </div>

    <!-- The big email subscribe modal content -->
    

    <!-- highlight.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.10.0/components/prism-abap.min.js"></script>
    <script>$(document).ready(function() {
      $('pre code').each(function(i, block) {
        hljs.highlightBlock(block);
      });
    });</script>

    <!-- jQuery + Fitvids, which makes all video embeds responsive -->
    <script
        src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="https://demo.ghost.io/assets/js/jquery.fitvids.js?v=724281a32e"></script>


    <!-- Paginator increased to "infinit" in _config.yml -->
    <!-- if paginator.posts  -->
    <!-- <script>
        var maxPages = parseInt('');
    </script>
    <script src="/assets/js/infinitescroll.js"></script> -->
    <!-- /endif -->

    


    <!-- Add Google Analytics  -->
    <!-- Google Analytics Tracking code -->
 <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', '', 'auto');
  ga('send', 'pageview');

 </script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
    (function (d, w, c) {
        (w[c] = w[c] || []).push(function() {
            try {
                w.yaCounter49866622 = new Ya.Metrika2({
                    id:49866622,
                    clickmap:true,
                    trackLinks:true,
                    accurateTrackBounce:true,
                    webvisor:true
                });
            } catch(e) { }
        });

        var n = d.getElementsByTagName("script")[0],
            s = d.createElement("script"),
            f = function () { n.parentNode.insertBefore(s, n); };
        s.type = "text/javascript";
        s.async = true;
        s.src = "https://mc.yandex.ru/metrika/tag.js";

        if (w.opera == "[object Opera]") {
            d.addEventListener("DOMContentLoaded", f, false);
        } else { f(); }
    })(document, window, "yandex_metrika_callbacks2");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/49866622" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

    <!-- The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in post.hbs, but it needs to be included down here, after jQuery has already loaded. -->
    
        <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();
});
</script>

    

    <!-- Ghost outputs important scripts and data with this tag - it should always be the very last thing before the closing body tag -->
    <!-- ghost_foot -->

</body>
</html>
