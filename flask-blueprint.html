<!DOCTYPE html>
<html>
<head>

    <!-- Document Settings -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Base Meta -->
    <!-- dynamically fixing the title for tag/author pages -->



    <title>Flask Blueprint Yapısı</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Styles'n'Scripts -->
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.edited.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/syntax.css" />
    <link rel="stylesheet" type="text/css" href="/assets/custom.css" />
    <!-- highlight.js -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
    <style>
    .highlighter-rouge{
        width: 100%;
    }
    .hljs{ 
        background: none; 
    }
</style>

    <!-- This tag outputs SEO meta+structured data and other important settings -->
    <meta name="description" content="" />
    <link rel="shortcut icon" href="/assets/images/favicon.png" type="image/png" />
    <link rel="canonical" href="/flask-blueprint" />
    <meta name="referrer" content="no-referrer-when-downgrade" />

     <!--title below is coming from _includes/dynamic_title-->
    <meta property="og:site_name" content="Bisguzar - Hobisel Pythoncu" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Flask Blueprint Yapısı" />
    <meta property="og:description" content="İçerik Listesi Blueprint Nedir? İlk Blueprintimizi Oluşturalım Proje Dosya Yapısı Fonksiyonel Yapı Bölünmüş Yapı Hangisini Daha İyi? İleri Seviye Kullanım URL Ön Eki Kaynaklar Blueprint Nedir? Blueprint kelime olarak taslak anlamına geliyor. Eğer daha önce Django kullandıysanız Django projelerinin uygulamalardan (apps) oluştuğunu deneyimlemişsinizdir. Örneğin bir sosyal medya sitesi hazırlıyorsunuz, bu" />
    <meta property="og:url" content="/flask-blueprint" />
    <meta property="og:image" content="/assets/images/flask/blueprint.jpg" />
    <meta property="article:publisher" content="https://www.facebook.com/bisguzar" />
    <meta property="article:author" content="https://www.facebook.com/bisguzar" />
    <meta property="article:published_time" content="2018-08-29T13:41:03+00:00" />
    <meta property="article:modified_time" content="2018-08-29T13:41:03+00:00" />
    <meta property="article:tag" content="Flask" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Flask Blueprint Yapısı" />
    <meta name="twitter:description" content="İçerik Listesi Blueprint Nedir? İlk Blueprintimizi Oluşturalım Proje Dosya Yapısı Fonksiyonel Yapı Bölünmüş Yapı Hangisini Daha İyi? İleri Seviye Kullanım URL Ön Eki Kaynaklar Blueprint Nedir? Blueprint kelime olarak taslak anlamına geliyor. Eğer daha önce Django kullandıysanız Django projelerinin uygulamalardan (apps) oluştuğunu deneyimlemişsinizdir. Örneğin bir sosyal medya sitesi hazırlıyorsunuz, bu" />
    <meta name="twitter:url" content="/" />
    <meta name="twitter:image" content="/assets/images/flask/blueprint.jpg" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="Bisguzar - Hobisel Pythoncu" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Flask" />
    <meta name="twitter:site" content="@bugraisguzar" />
    <meta name="twitter:creator" content="@bugraisguzar" />
    <meta property="og:image:width" content="1400" />
    <meta property="og:image:height" content="933" />

    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Website",
    "publisher": {
        "@type": "Organization",
        "name": "Bisguzar - Hobisel Pythoncu",
        "logo": "/assets/images/bisguzar_w.png"
    },
    "url": "/flask-blueprint",
    "image": {
        "@type": "ImageObject",
        "url": "/assets/images/flask/blueprint.jpg",
        "width": 2000,
        "height": 666
    },
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "/flask-blueprint"
    },
    "description": "İçerik Listesi Blueprint Nedir? İlk Blueprintimizi Oluşturalım Proje Dosya Yapısı Fonksiyonel Yapı Bölünmüş Yapı Hangisini Daha İyi? İleri Seviye Kullanım URL Ön Eki Kaynaklar Blueprint Nedir? Blueprint kelime olarak taslak anlamına geliyor. Eğer daha önce Django kullandıysanız Django projelerinin uygulamalardan (apps) oluştuğunu deneyimlemişsinizdir. Örneğin bir sosyal medya sitesi hazırlıyorsunuz, bu"
}
    </script>

    <!-- <script type="text/javascript" src="https://demo.ghost.io/public/ghost-sdk.min.js?v=724281a32e"></script>
    <script type="text/javascript">
    ghost.init({
    	clientId: "ghost-frontend",
    	clientSecret: "f84a07a72b17"
    });
    </script> -->

    <meta name="generator" content="Jekyll 3.6.2" />
    <link rel="alternate" type="application/rss+xml" title="Flask Blueprint Yapısı" href="/feed.xml" />


</head>
<body class="post-template">

    <div class="site-wrapper">
        <!-- All the main content gets inserted here, index.hbs, post.hbs, etc -->
        <!-- default -->

<!-- The tag above means: insert everything in this file
into the {body} of the default.hbs template -->

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
        
            
                <a class="site-nav-logo" href="/"><img src="/assets/images/bisguzar_w.png" alt="Bisguzar - Hobisel Pythoncu" /></a>
            
        
        
            <ul class="nav" role="menu">
    <li class="nav-home" role="menuitem"><a href="/">Ana Sayfa</a></li>
    <li class="nav-getting-started" role="menuitem"><a href="/tag/python/">Python</a></li>
    <li class="nav-getting-started" role="menuitem"><a href="/tag/micropython/">MicroPython</a></li>
    <li class="nav-getting-started" role="menuitem"><a href="/tag/flask/">Flask</a></li>
</ul>

        
    </div>
    <div class="site-nav-right">
        <div class="social-links">
            
                <a class="social-link social-link-fb" href="https://facebook.com/bisguzar" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>
</a>
            
            
                <a class="social-link social-link-tw" href="https://twitter.com/bugraisguzar" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>
</a>
            
            
                <a class="social-link social-link-gh" href="https://github.com/bisguzar" target="_blank" rel="noopener"><i class="fab fa-github" style="font-size: 18px"></i></a>
            
        </div>
        
    </div>
</nav>

<script defer src="https://use.fontawesome.com/releases/v5.2.0/js/all.js" integrity="sha384-4oV5EgaV02iISL2ban6c/RmotsABqE4yZxZLcYMAdG7FAPsyHYAPpywE9PJo+Khy" crossorigin="anonymous"></script>
    </div>
</header>

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<main id="site-main" class="site-main outer" role="main">
    <div class="inner">

        <article class="post-full post ">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime="29 August 2018">29 August 2018</time>
                    
                        <span class="date-divider">/</span>
                        
                            
                               <a href='/tag/flask/'>FLASK</a>
                            
                        
                    
                </section>
                <h1 class="post-full-title">Flask Blueprint Yapısı</h1>
                <br>
                <span> okuma süresi yaklaşık
                
                    6 dakika
                
                </span>
            </header>

            
            <figure class="post-full-image" style="background-image: url(/assets/images/flask/blueprint.jpg)">
            </figure>
            

            <section class="post-full-content">
                <div class="kg-card-markdown" style="text-align: justify;">
                    <p><strong>İçerik Listesi</strong></p>
<ol id="markdown-toc">
  <li><a href="#blueprint-nedir" id="markdown-toc-blueprint-nedir">Blueprint Nedir?</a></li>
  <li><a href="#i̇lk-blueprintimizi-oluşturalım" id="markdown-toc-i̇lk-blueprintimizi-oluşturalım">İlk Blueprintimizi Oluşturalım</a></li>
  <li><a href="#proje-dosya-yapısı" id="markdown-toc-proje-dosya-yapısı">Proje Dosya Yapısı</a>    <ol>
      <li><a href="#fonksiyonel-yapı" id="markdown-toc-fonksiyonel-yapı">Fonksiyonel Yapı</a></li>
      <li><a href="#bölünmüş-yapı" id="markdown-toc-bölünmüş-yapı">Bölünmüş Yapı</a></li>
      <li><a href="#hangisini-daha-i̇yi" id="markdown-toc-hangisini-daha-i̇yi">Hangisini Daha İyi?</a></li>
    </ol>
  </li>
  <li><a href="#i̇leri-seviye-kullanım" id="markdown-toc-i̇leri-seviye-kullanım">İleri Seviye Kullanım</a>    <ol>
      <li><a href="#url-ön-eki" id="markdown-toc-url-ön-eki">URL Ön Eki</a></li>
    </ol>
  </li>
  <li><a href="#kaynaklar" id="markdown-toc-kaynaklar">Kaynaklar</a></li>
</ol>

<hr style="margin: 10px !important;" />

<h1 id="blueprint-nedir">Blueprint Nedir?</h1>

<p>Blueprint kelime olarak <em>taslak</em> anlamına geliyor.</p>

<p>Eğer daha önce <em>Django</em> kullandıysanız <em>Django</em> projelerinin uygulamalardan (apps) oluştuğunu deneyimlemişsinizdir. Örneğin bir sosyal medya sitesi hazırlıyorsunuz, bu sitede üyelik işlemlerini (kayıt ol, giriş yap, profil) gerçekleştirmesi için bir alt-uygulama, ana yapı (dashboard) için bir uygulama oluşturabiliriz. Böylelikle büyük bir projeyi parçalara bölerek organizasyonu kolaylaştırıp modüler bir yapı elde edebiliriz.</p>

<p>Aynı seneryoyu <strong>Flask</strong>da da yapabiliriz. Yani projemizi parçalar halinde oluşturabilir böylelikle proje yönetimini kolaylaştırabiliriz.</p>

<h1 id="i̇lk-blueprintimizi-oluşturalım">İlk Blueprintimizi Oluşturalım</h1>

<p>Flask proje klasörümüz içinde yeni bir dosya oluşturalım ve adını dashboard_core.py koyalım (siz kendinize göre isim verebilirsiniz tabiki, isimlendirme yaparken işlevini en net ve kısa şekilde belirtmesine dikkat etmeliyiz. ‘There are only two hard things in Computer Science: cache invalidation and naming things.’ - Phil Karlton).</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Blueprint</span>


<span class="n">dashboard</span> <span class="o">=</span> <span class="n">Blueprint</span><span class="p">(</span><span class="s">'dashboard'</span><span class="p">,</span> <span class="n">__name__</span><span class="p">)</span>


<span class="nd">@dashboard.route</span><span class="p">(</span><span class="s">'/dashboard'</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">homepage</span><span class="p">():</span>
    <span class="k">return</span> <span class="s">'Şu an dashboard app</span><span class="se">\'</span><span class="s">ının içindeyim'</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Bu kadarcık tanımlamayla aslında bir app (<em>app</em> kelimesini projenin bir bölümü, alt uygulaması anlamında kullandığımızı hatırlayalım) oluşturabiliyoruz. Şimdi biraz bu satırları inceleyelim. Projemizi flask ile hazırladığımız için yine flask’ın app oluşturmak için kullandığımız kütüphanesi olan <em>Blueprint</em>‘i projemize dahil ediyoruz.</p>

<p>4. satırda ise projemize dahil ettiğimiz <em>Blueprint</em> sınıfının bir örneğini oluşturuyoruz. Aslında tam bu aşamada app’ımızı hazırlıyoruz. Verdiğimiz ilk değer app’ımızın adı. İkinci değer ise içe aktarılırken kullanılacağı parametre. Onun haricindeki tüm değerler tercihe bağlı olarak tanımlanabilir. Sonraki satırlar zaten flask kullanımından alışkın olduğumuz şey, bir fonksiyon tanımlayıp onu da bir adrese bağladık. Burada dikkat edilmesi gereken şey <em>route</em> decaratorünün oluşturduğumuz app örneğinden aldığımız (ben ana dosyadaki flask’ın Flask sınıfının örneğini de buraya aktarıp import loopa sokmuştum, sonra insan iki gün sorun ne diye arıyor).</p>

<p>Şu anda aslında bir app oluşturduk, oluşturduğumuz app’ı flask’a haber vermemiz gerekiyor. Bunun için ana flask sınıfının <strong>register_blueprint</strong> fonksiyonunu kullanacağız. Ana flask sınıfından kastım <em>app = Flask(__name__)</em> tanımlamasını yaptığımız dosya (değişkenin adını farklı belirlemiş olabilirsiniz). Bu dosyaya app’ımızı dahil ediyoruz. Eğer ikisinin app dosyamız ile bu dosyanın aynı dizinde olduğunu varsayarsak <strong>from dashboard_core import dashboard</strong> diyerek içe aktarma işlemimizi yapabiliriz. Daha sonrasında ise tanımlama işlemi kaldı. Onun için de <strong>app.register_blueprint(dashboard)</strong> dememiz yeterli.</p>

<p>Şimdi projenizi çalıştırıp /dashboard sayfasına girerseniz oluşturduğunuz app’ın içindeki fonksiyonun döndürdüğü değeri göreceksiniz. Buraya kadar herhangi bir hatayla karşılaşmadıysanız başarıyla bir uygulama (app) oluşturdunuz.</p>

<h1 id="proje-dosya-yapısı">Proje Dosya Yapısı</h1>

<p>Eğer projemizi modüller halinde inşa edeceksek dosyalamayı da çok düzenli yapmalıyız, örneğin A app’ının template dosyaları B app’ının dizininde durmamalı. Onlarca app bulunan bir projede böyle bir durum çıkmaza yol açacaktır. Bunun için sizlere en çok tercih edilen iki yöntemi göstereceğim. Tabii siz kendi istediğiniz yapıyla da dosylama yapabilirsiniz. Ancak her zaman standartlaşmış yöntemleri kullanmak yararımıza olacaktır. En azından projeyi sonradan başka birisi geliştirmek durumunda kalırsa sizi daha az anacaktır.</p>

<p>Üç app’den oluşan bir projemiz olduğunu düşünelim. Sahip olduğumuz appler <em>userManagement</em>, <em>adminPanel</em> ve <em>dashboard</em> olsun. Aşağıdaki örnekleri de bu isimlendirmeleri kullanarak oluşturacağım.</p>

<h2 id="fonksiyonel-yapı">Fonksiyonel Yapı</h2>

<p>Bu yapıda tüm applikasyon dosyalarınız ve bunların kullandığı statik (resim dosyaları, stil dosyaları vs.) dosyalar aynı dizinde bulunurken, applikasyonların tema dosyaları ise templates klasörü içinde kendi aralarında dosyalanmış şekilde bulunur.</p>

<p>eşsizprojem/<br />
 __init__.py<br />
 static/<br />
 templates/<br />
  userManagement/<br />
  adminPanel/<br />
  dashboard/<br />
 views/<br />
  __init__.py<br />
  userManagement.py<br />
  adminPanel.py<br />
  dashboard.py<br />
 models.py</p>

<p>Proje dosyanız bu şekilde görünmeli, tabi eğer fonksiyonel dosyalama yapısını kullanmaya karar verdiyseniz. Bu durumda dashboard app’ını ele alalım. Bu app’ın back-end kodları, yani view kodları <em>dashboard.py</em> dosyasında olacak. Statik dosyları <em>static</em> klasöründe, tema/şablon dosyaları ise <em>templates/dashboard/</em> klasöründe olacak.</p>

<p class="note">
Bu yazı hazırlandığı sıralarda flask'ın resmi sitesi de  (http://flask.pocoo.org) bu yapıyı kullanıyordu, hala kullanıyor da olabilir. <a href="https://github.com/pallets/flask-website/tree/master/flask_website">GitHub üzerinde</a> canlı görebilirsiniz.
</p>

<h2 id="bölünmüş-yapı">Bölünmüş Yapı</h2>

<p>Bölünmüş yapıda applerin her birini tüm kendi alt dosyaları ile birlikte özel bir klasörde tutuyoruz. Çok karışık bir cümle oldu ama örnek üzerinde baktığınızda çok basit olduğunu göreceksiniz.</p>

<p>eşsizprojem/<br />
 __init__.py<br />
 <strong>userManagement</strong>/<br />
  __init__.py<br />
  views.py<br />
  static/<br />
  templates/<br />
 <strong>adminPanel</strong>/<br />
  __init__.py<br />
  views.py<br />
  static/<br />
  templates/<br />
 <strong>dashboard</strong>/<br />
  __init__.py<br />
  views.py<br />
  static/<br />
  templates/<br />
 models.py</p>

<p>En üst seviyedeki <em>__init__.py</em> dosyasında oluşturduğumuz Flask nesnesi ise bu tüm appleri kapsayacak ve projeyi bağlayıcı rol alacak.</p>

<h2 id="hangisini-daha-i̇yi">Hangisini Daha İyi?</h2>

<p>Bu konu tamamen kişisel tercihlere bağlı. Yukarıda örneği bulunan iki yapı dışında da tamamen kendi oluşturacağınız bir yapıyı kullanarak bir proje inşa edebilirsiniz. Ancak ortak bir dil oluşturabilmek adına -tıpcıların latince kullanması gibi- benimsenmiş yapıları kullanmak her zaman daha avantajlı bir durum olacaktır. Bu yapılardan hangisini kullanacağınız ise sizin projenize hangisinin daha uygun olduğunu düşünmenize göre değişir.</p>

<p>Projeniz birden fazla ana parçadan oluşacaksa (yönetici paneli, kullanıcı paneli, ana sayfa) bölünmüş yapıyı kullanmanız ve her bölümün diğerlerinden tamamen bağımsız olmasını sağlamanız daha makul bir yol olacaktır. Ancak projenizdeki parçalar birbirinden kalın çizgilerle ayrılmıyorsa, örneğin applerinizin templateleri ortak bir stil dosyası (style.css) kullanıyorsa fonksiyonel dosyalama yapısı daha kullanışlı olabilir.</p>

<h1 id="i̇leri-seviye-kullanım">İleri Seviye Kullanım</h1>

<p>Flask’ın blueprint yapısı zaten yeterince kullanışlı değilmiş gibi ek olarak kullanabileceğimiz bazı özellikleri mevcut.</p>

<h2 id="url-ön-eki">URL Ön Eki</h2>

<p>Blueprintimizi tanımlarken url_prefix niteliği tanımlamazsak bu değer varsayılan olarak / olacaktır. <strong>profil</strong> adında bir app oluşturduğumuz senaryosunu ele alalım. Bu app’ın alt sayfaları olarak ayarlar, resimler ve gonderiler sayfaları olmasını istiyoruz. Yani elimizde /profil, /profil/ayarlar, /profil/resimler, /profil/gonderiler seklinde 4 ayrı sayfa olmalı. Biz app’ın içinde sayfalarımızı tanımlarken urllerimizi bu şekilde tanımlayabileceğimiz gibi blueprinte bir URL ön eki verirsek kendimizi tekrarlamaktan kurtulmuş oluruz.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="n">profil</span> <span class="o">=</span> <span class="n">Blueprint</span><span class="p">(</span><span class="s">'profil'</span><span class="p">,</span> <span class="n">__name__</span><span class="p">,</span> <span class="n">url_prefix</span><span class="o">=</span><span class="s">'/profil'</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Şeklinde bir blueprint tanımlaması yaptığımızı düşünelim. Daha sonra da bu blueprintimizi kullanarak resimler sayfamızı oluşturalım.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="nd">@profil.route</span><span class="p">(</span><span class="s">'/resimler'</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">resimler</span><span class="p">():</span>
    <span class="c"># Bir şeyler yap</span>
    <span class="k">pass</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Bu şekilde oluşturduğumuz sayfamıza erişmek istediğimiz zaman sitemiz.uzantısı/profil/resimler adresine gitmemiz gerekiyor. Sebebi ise sayfamıza (diğer tanımlamayla fonksiyonumuza) /resimler URL’sini bağladık. Ancak sayfamızın dahil olduğu blueprint de /profil URL’sine bağlı. Bu durumda bu sayfaya erişmek isteyen bir kişi öncelike blueprintin bağlı olduğu noktaya erişecek sonrasında ise sayfaya erişecek diyebiliriz. Tabi olay tam olarak böyle işlemiyor, biz senaryolaştırıyoruz.</p>

<p>Şimdi durumu biraz daha karmaşıklaştıralım. Bu örneğimizi facebookdaki gibi bir duruma refactor edelim (tekrar düzenleyelim). Facebookda bu durum nasıl işliyor hatırlayalım. Örneğin johndoe kullanıcı adında biri oldun. Onun resimlerine girebilmek için facebook.com/profil/resimler adresine gitmiyoruz, bunun için kullanmamız gereken adres facebook.com/johndoe/resimler oluyor. Burada farkettiyseniz URL yapısı içerisinde bir kullanıcının kullanıcı adını kullandık. Yani orası değişkenlik gösterebiliyor demek bu. Orası aynı şekilde <strong>joandoe</strong> de olabilirdi. Bu yapıya dinamik URLler diyoruz. Orasını değişebilir kılıyoruz ve ne olduğunu da bir değişken olarak alıyoruz. Böyle bir yapıyı url_prefix niteliğini kullanmadan hazırlayalım hemen.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="nd">@profil.route</span><span class="p">(</span><span class="s">'/&lt;username&gt;/resimler'</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">resimler</span><span class="p">(</span><span class="n">username</span><span class="p">):</span>
    <span class="c"># Bir şeyler yap</span>
    <span class="k">pass</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Tekrarlıyorum, <em>url_prefix</em> tanımlaması yapılmadığını varsayıyoruz şu an bu nitelik varsayılan olarak / adresine tanımlı. Yani kısaca tanımlanmamış da diyebiliriz. Eğer tarayıcınızdan sitemiz.uzantısı/<strong>johndoe</strong>/resimler adresine giderseniz <strong>resimler</strong> adındaki fonksiyonumuzun username değeri ‘johndoe’ye eşit olacak. Bunu da fonksiyon içerisinde herhangi bir yerde kullanabiliriz.</p>

<p>Bu şekilde kullanımı ayarlar, resimler ve gönderiler sayfaları için teker teker uygulayabiliriz ancak kendimizi tekrarlamış oluruz. url_prefix niteliğini tanımlarken dinamik URL yapıları kullanabiliyoruz. Şimdi o şekilde kodumuzu yeniden düzenleyelim.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Blueprint</span><span class="p">,</span> <span class="n">g</span>

<span class="n">profil</span> <span class="o">=</span> <span class="n">Blueprint</span><span class="p">(</span><span class="s">'profil'</span><span class="p">,</span> <span class="n">__name__</span><span class="p">,</span> <span class="n">url_prefix</span><span class="o">=</span><span class="s">'/&lt;kadi&gt;'</span><span class="p">)</span>

<span class="nd">@profil.route</span><span class="p">(</span><span class="s">'/resimler'</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">resimler</span><span class="p">():</span>
    <span class="k">pass</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Şu anda appımız bu şekilde. <strong>kadi</strong>‘yi kullanıcı adının kısaltması olarak kullanıyorum. Gördüğünüz gibi bu sefer dinamik URL tanımlamasını blueprintimizi oluştururken url_prefix niteliğinde yaptık. O yüzden <strong>resimler</strong> fonksiyona bir parametre olarak gelmeyecek bu sefer. Ayrıca yakalamamız gerekecek. Bunun için blueprint sınıfının <em>url_value_preprocessor()</em> fonksiyonundan (decarator) yararlanabiliriz. Ayrıca farkettiyseniz bir üstteki örnekte <strong>g</strong> sınıfını da içeri aktardık, ona da birazdan değineceğim.</p>

<p>Şimdi de sayfa fonksiyonlarımız (örnekteki <em>resimler</em> fonksiyonu gibi) çalışmadan önce kullanıcıdan gelen URL’yi işleme tabii tutacak fonksiyonumuzu hazırlayalım. Böylelikle gelen dinamik veriyi tutup ayıklayabiliriz.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Blueprint</span><span class="p">,</span> <span class="n">g</span>

<span class="n">profil</span> <span class="o">=</span> <span class="n">Blueprint</span><span class="p">(</span><span class="s">'profil'</span><span class="p">,</span> <span class="n">__name__</span><span class="p">,</span> <span class="n">url_prefix</span><span class="o">=</span><span class="s">'/&lt;kadi&gt;'</span><span class="p">)</span>


<span class="nd">@profil.url_value_preprocessor</span>
<span class="k">def</span> <span class="nf">url_ayiklayici</span><span class="p">(</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
	<span class="n">g</span><span class="o">.</span><span class="n">kadi</span> <span class="o">=</span> <span class="n">values</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s">'kadi'</span><span class="p">)</span>

<span class="nd">@profil.route</span><span class="p">(</span><span class="s">'/resimler'</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">resimler</span><span class="p">():</span>
    <span class="k">pass</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Hemen bu örneğimizi de açıklayıp bu başlığı da kapatalım. 7. satırda yeni bir fonksiyon tanımladık. 6. satır tamamen bu fonksiyonu kontrol etmesi için bir decarator çağırmaktan ibaret. Decarator yapısını ayrıca öğrenmenizi şiddetle tavsiye ediyorum. Bu tanımladığımız fonksiyon bazı parametreler alıyor (bu parametreler decarator tarafından veriliyor), ve bunlardan biri de URL’deki dinamik veriler. 8. satırda da bu parametrenin içinden istediğimiz veriyi alıp onu <strong>g</strong> nesnesinin <strong>kadi</strong> niteliğine eşitledik. Yani bir değişken tanımlaması yaptık diyebiliriz, ancak değişkeni <strong>g</strong> sınıfının içine tanımladık. <a href="http://flask.pocoo.org/docs/0.12/appcontext/#locality-of-the-context"><strong>g</strong> sınıfı hakkında detaylı bilgi için tıklayın</a></p>

<h1 id="kaynaklar">Kaynaklar</h1>

<ul>
  <li>http://flask.pocoo.org/docs/1.0/blueprints/</li>
  <li>http://exploreflask.com/en/latest/blueprints.html</li>
</ul>

                </div>
            </section>

            <!-- Email subscribe form at the bottom of the page -->
            

            <footer class="post-full-footer">
                <!-- Everything inside the #author tags pulls data from the author -->
                <!-- #author-->
                
                    
                        <section class="author-card">
                            
                                <img class="author-profile-image" src="/assets/images/bisguzar_pp.jpg" alt="bisguzar" />
                            
                            <section class="author-card-content">
                                <h4 class="author-card-name"><a href="/author/bisguzar">Buğra İşgüzar</a></h4>
                                
                                    <p>Buğra, bilgisayar bilimlerine meraklı bir sağlıkçı. Kurcalamayı ve kurcaladıklarını anlatmayı çok sever.</p>
                                
                            </section>
                        </section>
                        <div class="post-full-footer-right">
                            <a class="author-card-button" href="/author/bisguzar">Profiline Git</a>
                        </div>
                    
                
                <!-- /author  -->
            </footer>

            <!-- If you use Disqus comments, just uncomment this block.
            The only thing you need to change is "test-apkdzgmqhj" - which
            should be replaced with your own Disqus site-id. -->
            

        </article>

    </div>
</main>

<!-- Links to Previous/Next posts -->
<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
            
                
                
                
                
                    <article class="read-next-card"
                        
                            style="background-image: url(/assets/images/blog-cover.jpg)"
                        
                    >
                        <header class="read-next-card-header">
                            <small class="read-next-card-header-sitetitle">&mdash; Bisguzar - Hobisel Pythoncu &mdash;</small>
                            
                                <h3 class="read-next-card-header-title"><a href="/tag/flask/">Flask</a></h3>
                            
                        </header>
                        <div class="read-next-divider"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"/></svg>
</div>
                        <div class="read-next-card-content">
                            <ul>
                                
                                
                                  
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/flask-ile-blog">Flask ile Blog Yapalım</a></li>
                                        
                                    
                                  
                                
                                  
                                
                                  
                                
                            </ul>
                        </div>
                        <footer class="read-next-card-footer">
                            <a href="/tag/flask/">
                                
                                    See all 1 posts  →
                                
                            </a>
                        </footer>
                    </article>
                
            

            <!-- If there's a next post, display it using the same markup included from - partials/post-card.hbs -->
            

            <!-- If there's a previous post, display it using the same markup included from - partials/post-card.hbs -->
            
                
    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/flask-ile-blog">
                <div class="post-card-image" style="background-image: url(/assets/images/flask_python.jpg)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/flask-ile-blog">
                <header class="post-card-header">
                    
                        
                            
                                <span class="post-card-tags">Flask</span>
                            
                        
                    

                    <h2 class="post-card-title">Flask ile Blog Yapalım</h2>
                </header>
                <section class="post-card-excerpt">
                    <p>İçerik Listesi Giriş İnternet Siteleri Nasıl Çalışır Pipenv Kurulumu ve Kullanımı Flask Kullanmaya Başlayalım Site İskeletini Oluşturalım Şablonlarımızı Güzelleştirelim Veritabanı Modelleri Back-end’i Hazırlayalım Fonksiyonlarımızı Oluşturalım Giriş/Çıkış Yapısını Hazırlayalım Yazı Ekleme Sayfasını Ayarlayalım Ana</p>
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                        
                        <img class="author-profile-image" src="/assets/images/bisguzar_pp.jpg" alt="Buğra İşgüzar" />
                        
                        <span class="post-card-author">
                            <a href="/author/bisguzar/">Buğra İşgüzar</a>
                        </span>
                    
                
            </footer>
        </div>
    </article>

            

        </div>
    </div>
</aside>

<!-- Floating header which appears on-scroll, included from includes/floating-header.hbs -->
<div class="floating-header">
    <div class="floating-header-logo">
        <a href="/">
            
                <img src="/assets/images/bisguzar_b.png" alt="Bisguzar - Hobisel Pythoncu icon" />
            
        </a>
    </div>
    <span class="floating-header-divider">&mdash;</span>
    <div class="floating-header-title">Flask Blueprint Yapısı</div>
    <div class="floating-header-share">
        <div class="floating-header-share-label">Gönderiyi Paylaş <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"/>
</svg>
</div>
        <a class="floating-header-share-tw" href="https://twitter.com/share?text=Flask+Blueprint+Yap%C4%B1s%C4%B1&amp;url=https://bisguzar.com/flask-blueprint"
            onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>

        </a>
        <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=https://bisguzar.com/flask-blueprint"
            onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>

        </a>
    </div>
    <progress class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>


<!-- /post -->

<!-- The #contentFor helper here will send everything inside it up to the matching #block helper found in default.hbs -->


        <!-- Previous/next page links - displayed on every page -->
        

        <!-- The footer at the very bottom of the screen -->
        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="/">Bisguzar - Hobisel Pythoncu</a> &copy; 2020</section>
                <section class="poweredby"><a href="https://jekyllrb.com/">Jekyll</a>'in <a href="https://github.com/jekyller/jasper2" target="_blank" rel="noopener">Jasper2</a> teması &
                    <a href="https://pages.github.com/" target="_blank" rel="noopener">GitHub Pages</a> kullanılarak yayınlandı.
                    </section>
                <nav class="site-footer-nav">
                    <a href="/">Son Yazılar</a>
                    <a href="https://facebook.com/bisguzar" target="_blank" rel="noopener">Facebook</a>
                    <a href="https://twitter.com/bugraisguzar" target="_blank" rel="noopener">Twitter</a>
                    <a href="https://github.com/bisguzar" target="_blank" rel="noopener">Github</a>
                </nav>
            </div>
        </footer>

    </div>

    <!-- The big email subscribe modal content -->
    

    <!-- highlight.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.10.0/components/prism-abap.min.js"></script>
    <script>$(document).ready(function() {
      $('pre code').each(function(i, block) {
        hljs.highlightBlock(block);
      });
    });</script>

    <!-- jQuery + Fitvids, which makes all video embeds responsive -->
    <script
        src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="https://demo.ghost.io/assets/js/jquery.fitvids.js?v=724281a32e"></script>


    <!-- Paginator increased to "infinit" in _config.yml -->
    <!-- if paginator.posts  -->
    <!-- <script>
        var maxPages = parseInt('');
    </script>
    <script src="/assets/js/infinitescroll.js"></script> -->
    <!-- /endif -->

    


    <!-- Add Google Analytics  -->
    <!-- Google Analytics Tracking code -->
 <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', '', 'auto');
  ga('send', 'pageview');

 </script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
    (function (d, w, c) {
        (w[c] = w[c] || []).push(function() {
            try {
                w.yaCounter49866622 = new Ya.Metrika2({
                    id:49866622,
                    clickmap:true,
                    trackLinks:true,
                    accurateTrackBounce:true,
                    webvisor:true
                });
            } catch(e) { }
        });

        var n = d.getElementsByTagName("script")[0],
            s = d.createElement("script"),
            f = function () { n.parentNode.insertBefore(s, n); };
        s.type = "text/javascript";
        s.async = true;
        s.src = "https://mc.yandex.ru/metrika/tag.js";

        if (w.opera == "[object Opera]") {
            d.addEventListener("DOMContentLoaded", f, false);
        } else { f(); }
    })(document, window, "yandex_metrika_callbacks2");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/49866622" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

    <!-- The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in post.hbs, but it needs to be included down here, after jQuery has already loaded. -->
    
        <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();
});
</script>

    

    <!-- Ghost outputs important scripts and data with this tag - it should always be the very last thing before the closing body tag -->
    <!-- ghost_foot -->

</body>
</html>
